

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Reference Frames &mdash; kRPC 0.4.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/sphinx_tabs/tabs.css" type="text/css" />
  
    <link rel="stylesheet" href="../_static/sphinx_tabs/semantic-ui-2.2.10/segment.min.css" type="text/css" />
  
    <link rel="stylesheet" href="../_static/sphinx_tabs/semantic-ui-2.2.10/menu.min.css" type="text/css" />
  
    <link rel="stylesheet" href="../_static/sphinx_tabs/semantic-ui-2.2.10/tab.min.css" type="text/css" />
  
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="kRPC 0.4.0 documentation" href="../index.html"/>
        <link rel="up" title="Tutorials and Examples" href="../tutorials.html"/>
        <link rel="next" title="Launch into Orbit" href="launch-into-orbit.html"/>
        <link rel="prev" title="Sub-Orbital Flight" href="suborbital-flight.html"/>
 
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-61341323-1', 'auto');
  ga('send', 'pageview');
</script>


  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> kRPC
          

          
          </a>

          
            
            
              <div class="version">
                0.4.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting-started.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../tutorials.html">Tutorials and Examples</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="suborbital-flight.html">Sub-Orbital Flight</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Reference Frames</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#introduction">Introduction</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#origin-position-and-axis-orientation">Origin Position and Axis Orientation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#linear-velocity-and-angular-velocity">Linear Velocity and Angular Velocity</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#available-reference-frames">Available Reference Frames</a></li>
<li class="toctree-l3"><a class="reference internal" href="#custom-reference-frames">Custom Reference Frames</a></li>
<li class="toctree-l3"><a class="reference internal" href="#converting-between-reference-frames">Converting Between Reference Frames</a></li>
<li class="toctree-l3"><a class="reference internal" href="#visual-debugging">Visual Debugging</a></li>
<li class="toctree-l3"><a class="reference internal" href="#examples">Examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#navball-directions">Navball directions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#orbital-directions">Orbital directions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#surface-prograde">Surface ‘prograde’</a></li>
<li class="toctree-l4"><a class="reference internal" href="#vessel-speed">Vessel Speed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#vessel-velocity">Vessel Velocity</a></li>
<li class="toctree-l4"><a class="reference internal" href="#angle-of-attack">Angle of attack</a></li>
<li class="toctree-l4"><a class="reference internal" href="#landing-site">Landing Site</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="launch-into-orbit.html">Launch into Orbit</a></li>
<li class="toctree-l2"><a class="reference internal" href="pitch-heading-roll.html">Pitch, Heading and Roll</a></li>
<li class="toctree-l2"><a class="reference internal" href="parts.html">Interacting with Parts</a></li>
<li class="toctree-l2"><a class="reference internal" href="docking-guidance.html">Docking Guidance</a></li>
<li class="toctree-l2"><a class="reference internal" href="user-interface.html">User Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="autopilot.html">AutoPilot</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../csharp.html">C#</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cpp.html">C++</a></li>
<li class="toctree-l1"><a class="reference internal" href="../java.html">Java</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lua.html">Lua</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python.html">Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../third-party.html">Other Clients, Services and Scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../compiling.html">Compiling kRPC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../extending.html">Extending kRPC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../communication-protocols.html">Communication Protocols</a></li>
<li class="toctree-l1"><a class="reference internal" href="../internals.html">Internals of kRPC</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">kRPC</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../tutorials.html">Tutorials and Examples</a> &raquo;</li>
        
      <li>Reference Frames</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/tutorials/reference-frames.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <span class="target" id="package-krpc.client.services.SpaceCenter"></span><div class="section" id="reference-frames">
<span id="tutorial-reference-frames"></span><h1>Reference Frames<a class="headerlink" href="#reference-frames" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#introduction" id="id4">Introduction</a><ul>
<li><a class="reference internal" href="#origin-position-and-axis-orientation" id="id5">Origin Position and Axis Orientation</a><ul>
<li><a class="reference internal" href="#celestial-body-reference-frame" id="id6">Celestial Body Reference Frame</a></li>
<li><a class="reference internal" href="#vessel-orbital-reference-frame" id="id7">Vessel Orbital Reference Frame</a></li>
<li><a class="reference internal" href="#vessel-surface-reference-frame" id="id8">Vessel Surface Reference Frame</a></li>
</ul>
</li>
<li><a class="reference internal" href="#linear-velocity-and-angular-velocity" id="id9">Linear Velocity and Angular Velocity</a></li>
</ul>
</li>
<li><a class="reference internal" href="#available-reference-frames" id="id10">Available Reference Frames</a></li>
<li><a class="reference internal" href="#custom-reference-frames" id="id11">Custom Reference Frames</a></li>
<li><a class="reference internal" href="#converting-between-reference-frames" id="id12">Converting Between Reference Frames</a></li>
<li><a class="reference internal" href="#visual-debugging" id="id13">Visual Debugging</a></li>
<li><a class="reference internal" href="#examples" id="id14">Examples</a><ul>
<li><a class="reference internal" href="#navball-directions" id="id15">Navball directions</a></li>
<li><a class="reference internal" href="#orbital-directions" id="id16">Orbital directions</a></li>
<li><a class="reference internal" href="#surface-prograde" id="id17">Surface ‘prograde’</a></li>
<li><a class="reference internal" href="#vessel-speed" id="id18">Vessel Speed</a></li>
<li><a class="reference internal" href="#vessel-velocity" id="id19">Vessel Velocity</a></li>
<li><a class="reference internal" href="#angle-of-attack" id="id20">Angle of attack</a></li>
<li><a class="reference internal" href="#landing-site" id="id21">Landing Site</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#id4">Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>All of the positions, directions, velocities and rotations in kRPC are relative
to something, and <em>reference frames</em> define what that something is.</p>
<p>A reference frame specifies:</p>
<ul class="simple">
<li>The position of the origin at (0,0,0)</li>
<li>the direction of the coordinate axes x, y, and z</li>
<li>the linear velocity of the origin (if the reference frame moves)</li>
<li>The angular velocity of the coordinate axes (the speed and direction of rotation of the axes)</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">KSP and kRPC use a left handed coordinate system</p>
</div>
<div class="section" id="origin-position-and-axis-orientation">
<h3><a class="toc-backref" href="#id5">Origin Position and Axis Orientation</a><a class="headerlink" href="#origin-position-and-axis-orientation" title="Permalink to this headline">¶</a></h3>
<p>The following gives some examples of the position of the origin and the
orientation of the coordinate axes for various reference frames.</p>
<div class="section" id="celestial-body-reference-frame">
<h4><a class="toc-backref" href="#id6">Celestial Body Reference Frame</a><a class="headerlink" href="#celestial-body-reference-frame" title="Permalink to this headline">¶</a></h4>
<div class="figure align-right" id="id1" style="width: 250px">
<img alt="../_images/celestial-body.png" src="../_images/celestial-body.png" />
<p class="caption"><span class="caption-text">The reference frame for a celestial body, such as Kerbin. The equator is
shown in blue, and the prime meridian in red. The black arrows show the
coordinate axes, and the origin is at the center of the planet.</span></p>
</div>
<p>The reference frame obtained by calling <a class="reference internal" href="../python/api/space-center/celestial-body.html#SpaceCenter.CelestialBody.reference_frame" title="SpaceCenter.CelestialBody.reference_frame"><code class="xref py py-attr docutils literal"><span class="pre">CelestialBody.reference_frame</span></code></a>
for Kerbin has the following properties:</p>
<ul class="simple">
<li>The origin is at the center of Kerbin,</li>
<li>the y-axis points from the center of Kerbin to the north pole,</li>
<li>the x-axis points from the center of Kerbin to the intersection of the prime
meridian and equator (the surface position at 0° longitude, 0° latitude),</li>
<li>the z-axis points from the center of Kerbin to the equator at 90°E longitude,</li>
<li>and the axes rotate with the planet, i.e. the reference frame has the same
rotational/angular velocity as Kerbin.</li>
</ul>
<p>This means that the reference frame is <em>fixed</em> relative to Kerbin – it moves
with the center of the planet, and also rotates with the planet. Therefore,
positions in this reference frame are relative to the center of the planet. The
following code prints out the position of the active vessel in Kerbin’s
reference frame:</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-0 docutils container">
<div class="docutils container">
C#</div>
</div>
<div class="item sphinx-data-tab-1 docutils container">
<div class="docutils container">
C++</div>
</div>
<div class="item sphinx-data-tab-2 docutils container">
<div class="docutils container">
Java</div>
</div>
<div class="item sphinx-data-tab-3 docutils container">
<div class="docutils container">
Lua</div>
</div>
<div class="item sphinx-data-tab-4 docutils container">
<div class="docutils container">
Python</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-0 active docutils container">
<div class="highlight-csharp"><div class="highlight"><pre><span></span><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">KRPC.Client</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">KRPC.Client.Services.SpaceCenter</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">VesselPosition</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span> <span class="p">()</span>
    <span class="p">{</span>
        <span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">connection</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Connection</span> <span class="p">())</span> <span class="p">{</span>
            <span class="kt">var</span> <span class="n">vessel</span> <span class="p">=</span> <span class="n">connection</span><span class="p">.</span><span class="n">SpaceCenter</span> <span class="p">().</span><span class="n">ActiveVessel</span><span class="p">;</span>
            <span class="kt">var</span> <span class="n">position</span> <span class="p">=</span> <span class="n">vessel</span><span class="p">.</span><span class="n">Position</span> <span class="p">(</span><span class="n">vessel</span><span class="p">.</span><span class="n">Orbit</span><span class="p">.</span><span class="n">Body</span><span class="p">.</span><span class="n">ReferenceFrame</span><span class="p">);</span>
            <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span> <span class="p">(</span><span class="s">&quot;({0:F1}, {1:F1}, {2:F1})&quot;</span><span class="p">,</span>
                               <span class="n">position</span><span class="p">.</span><span class="n">Item1</span><span class="p">,</span> <span class="n">position</span><span class="p">.</span><span class="n">Item2</span><span class="p">,</span> <span class="n">position</span><span class="p">.</span><span class="n">Item3</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-1 docutils container">
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;iomanip&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;krpc.hpp&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;krpc/services/space_center.hpp&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">krpc</span><span class="o">::</span><span class="n">Client</span> <span class="n">conn</span> <span class="o">=</span> <span class="n">krpc</span><span class="o">::</span><span class="n">connect</span><span class="p">();</span>
  <span class="n">krpc</span><span class="o">::</span><span class="n">services</span><span class="o">::</span><span class="n">SpaceCenter</span> <span class="n">spaceCenter</span><span class="p">(</span><span class="o">&amp;</span><span class="n">conn</span><span class="p">);</span>
  <span class="k">auto</span> <span class="n">vessel</span> <span class="o">=</span> <span class="n">spaceCenter</span><span class="p">.</span><span class="n">active_vessel</span><span class="p">();</span>
  <span class="k">auto</span> <span class="n">position</span> <span class="o">=</span> <span class="n">vessel</span><span class="p">.</span><span class="n">position</span><span class="p">(</span><span class="n">vessel</span><span class="p">.</span><span class="n">orbit</span><span class="p">().</span><span class="n">body</span><span class="p">().</span><span class="n">reference_frame</span><span class="p">());</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">fixed</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">setprecision</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">get</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">&gt;</span><span class="p">(</span><span class="n">position</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;, &quot;</span>
            <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">get</span><span class="o">&lt;</span><span class="mi">1</span><span class="o">&gt;</span><span class="p">(</span><span class="n">position</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;, &quot;</span>
            <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">get</span><span class="o">&lt;</span><span class="mi">2</span><span class="o">&gt;</span><span class="p">(</span><span class="n">position</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-2 docutils container">
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">krpc.client.Connection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">krpc.client.RPCException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">krpc.client.services.SpaceCenter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">krpc.client.services.SpaceCenter.Vessel</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.javatuples.Triplet</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">VesselPosition</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">IOException</span><span class="o">,</span> <span class="n">RPCException</span> <span class="o">{</span>
        <span class="n">Connection</span> <span class="n">connection</span> <span class="o">=</span> <span class="n">Connection</span><span class="o">.</span><span class="na">newInstance</span><span class="o">();</span>
        <span class="n">SpaceCenter</span> <span class="n">spaceCenter</span> <span class="o">=</span> <span class="n">SpaceCenter</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="n">connection</span><span class="o">);</span>
        <span class="n">Vessel</span> <span class="n">vessel</span> <span class="o">=</span> <span class="n">spaceCenter</span><span class="o">.</span><span class="na">getActiveVessel</span><span class="o">();</span>
        <span class="n">Triplet</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">,</span> <span class="n">Double</span><span class="o">,</span> <span class="n">Double</span><span class="o">&gt;</span> <span class="n">position</span> <span class="o">=</span>
          <span class="n">vessel</span><span class="o">.</span><span class="na">position</span><span class="o">(</span><span class="n">vessel</span><span class="o">.</span><span class="na">getOrbit</span><span class="o">().</span><span class="na">getBody</span><span class="o">().</span><span class="na">getReferenceFrame</span><span class="o">());</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">&quot;(%.1f, %.1f, %.1f)\n&quot;</span><span class="o">,</span>
                          <span class="n">position</span><span class="o">.</span><span class="na">getValue0</span><span class="o">(),</span>
                          <span class="n">position</span><span class="o">.</span><span class="na">getValue1</span><span class="o">(),</span>
                          <span class="n">position</span><span class="o">.</span><span class="na">getValue2</span><span class="o">());</span>
        <span class="n">connection</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-3 docutils container">
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="kd">local</span> <span class="n">krpc</span> <span class="o">=</span> <span class="nb">require</span> <span class="s1">&#39;krpc&#39;</span>
<span class="kd">local</span> <span class="n">conn</span> <span class="o">=</span> <span class="n">krpc</span><span class="p">.</span><span class="n">connect</span><span class="p">()</span>
<span class="kd">local</span> <span class="n">vessel</span> <span class="o">=</span> <span class="n">conn</span><span class="p">.</span><span class="n">space_center</span><span class="p">.</span><span class="n">active_vessel</span>
<span class="nb">print</span><span class="p">(</span><span class="n">vessel</span><span class="p">:</span><span class="n">position</span><span class="p">(</span><span class="n">vessel</span><span class="p">.</span><span class="n">orbit</span><span class="p">.</span><span class="n">body</span><span class="p">.</span><span class="n">reference_frame</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-4 docutils container">
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">krpc</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">krpc</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
<span class="n">vessel</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">space_center</span><span class="o">.</span><span class="n">active_vessel</span>
<span class="k">print</span><span class="p">(</span><span class="s1">&#39;(</span><span class="si">%.1f</span><span class="s1">, </span><span class="si">%.1f</span><span class="s1">, </span><span class="si">%.1f</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="n">vessel</span><span class="o">.</span><span class="n">position</span><span class="p">(</span><span class="n">vessel</span><span class="o">.</span><span class="n">orbit</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">reference_frame</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<p>For a vessel sat on the launchpad, the magnitude of this position vector will be
roughly 600,000 meters (equal to the radius of Kerbin). The position vector will
also not change over time, because the vessel is sat on the surface of Kerbin
and the reference frame also rotates with Kerbin.</p>
</div>
<div class="section" id="vessel-orbital-reference-frame">
<h4><a class="toc-backref" href="#id7">Vessel Orbital Reference Frame</a><a class="headerlink" href="#vessel-orbital-reference-frame" title="Permalink to this headline">¶</a></h4>
<div class="figure align-right" id="id2" style="width: 350px">
<img alt="../_images/vessel-orbital.png" src="../_images/vessel-orbital.png" />
<p class="caption"><span class="caption-text">The orbital reference frame for a vessel.</span></p>
</div>
<p>Another example is the orbital reference frame for a vessel, obtained by calling
<a class="reference internal" href="../python/api/space-center/vessel.html#SpaceCenter.Vessel.orbital_reference_frame" title="SpaceCenter.Vessel.orbital_reference_frame"><code class="xref py py-attr docutils literal"><span class="pre">Vessel.orbital_reference_frame</span></code></a>. This is fixed to the vessel (the origin
moves with the vessel) and is orientated so that the axes point in the orbital
prograde/normal/radial directions.</p>
<ul class="simple">
<li>The origin is at the center of mass of the vessel,</li>
<li>the y-axis points in the prograde direction of the vessels orbit,</li>
<li>the x-axis points in the anti-radial direction of the vessels orbit,</li>
<li>the z-axis points in the normal direction of the vessels orbit,</li>
<li>and the axes rotate to match any changes to the prograde/normal/radial directions,
for example when the prograde direction changes as the vessel continues on its
orbit.</li>
</ul>
</div>
<div class="section" id="vessel-surface-reference-frame">
<h4><a class="toc-backref" href="#id8">Vessel Surface Reference Frame</a><a class="headerlink" href="#vessel-surface-reference-frame" title="Permalink to this headline">¶</a></h4>
<div class="figure align-right" id="id3" style="width: 350px">
<img alt="../_images/vessel-aircraft.png" src="../_images/vessel-aircraft.png" />
<p class="caption"><span class="caption-text">The reference frame for an aircraft.</span></p>
</div>
<p>Another example is <a class="reference internal" href="../python/api/space-center/vessel.html#SpaceCenter.Vessel.reference_frame" title="SpaceCenter.Vessel.reference_frame"><code class="xref py py-attr docutils literal"><span class="pre">Vessel.reference_frame</span></code></a>. As with the previous example,
it is fixed to the vessel (the origin moves with the vessel), however the
orientation of the coordinate axes is different. They track the orientation of
the vessel:</p>
<ul class="simple">
<li>The origin is at the center of mass of the vessel,</li>
<li>the y-axis points in the same direction that the vessel is pointing,</li>
<li>the x-axis points out of the right side of the vessel,</li>
<li>the z-axis points downwards out of the bottom of the vessel,</li>
<li>and the axes rotate with any changes to the direction of the vessel.</li>
</ul>
</div>
</div>
<div class="section" id="linear-velocity-and-angular-velocity">
<h3><a class="toc-backref" href="#id9">Linear Velocity and Angular Velocity</a><a class="headerlink" href="#linear-velocity-and-angular-velocity" title="Permalink to this headline">¶</a></h3>
<p>Reference frames move and rotate relative to one another. For example, the
reference frames discussed previously all have their origin position fixed to
some object (such as a vessel or a planet). This means that they move and rotate
to track the object, and so have a linear and angular velocity associated with
them.</p>
<p>For example, the reference frame obtained by calling
<a class="reference internal" href="../python/api/space-center/celestial-body.html#SpaceCenter.CelestialBody.reference_frame" title="SpaceCenter.CelestialBody.reference_frame"><code class="xref py py-attr docutils literal"><span class="pre">CelestialBody.reference_frame</span></code></a> for Kerbin is fixed relative to
Kerbin. This means the angular velocity of the reference frame is identical to
Kerbin’s angular velocity, and the linear velocity of the reference frame
matches the current orbital velocity of Kerbin.</p>
</div>
</div>
<div class="section" id="available-reference-frames">
<h2><a class="toc-backref" href="#id10">Available Reference Frames</a><a class="headerlink" href="#available-reference-frames" title="Permalink to this headline">¶</a></h2>
<p>kRPC provides the following reference frames:</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-5 docutils container">
<div class="docutils container">
C#</div>
</div>
<div class="item sphinx-data-tab-6 docutils container">
<div class="docutils container">
C++</div>
</div>
<div class="item sphinx-data-tab-7 docutils container">
<div class="docutils container">
Java</div>
</div>
<div class="item sphinx-data-tab-8 docutils container">
<div class="docutils container">
Lua</div>
</div>
<div class="item sphinx-data-tab-9 docutils container">
<div class="docutils container">
Python</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-5 active docutils container">
<ul class="simple">
<li><a class="reference internal" href="../csharp/api/space-center/vessel.html#property-KRPC.Client.Services.SpaceCenter.Vessel.ReferenceFrame" title="KRPC.Client.Services.SpaceCenter.Vessel.ReferenceFrame property"><code class="xref csharp csharp-prop docutils literal"><span class="pre">Vessel.ReferenceFrame</span></code></a></li>
<li><a class="reference internal" href="../csharp/api/space-center/vessel.html#property-KRPC.Client.Services.SpaceCenter.Vessel.OrbitalReferenceFrame" title="KRPC.Client.Services.SpaceCenter.Vessel.OrbitalReferenceFrame property"><code class="xref csharp csharp-prop docutils literal"><span class="pre">Vessel.OrbitalReferenceFrame</span></code></a></li>
<li><a class="reference internal" href="../csharp/api/space-center/vessel.html#property-KRPC.Client.Services.SpaceCenter.Vessel.SurfaceReferenceFrame" title="KRPC.Client.Services.SpaceCenter.Vessel.SurfaceReferenceFrame property"><code class="xref csharp csharp-prop docutils literal"><span class="pre">Vessel.SurfaceReferenceFrame</span></code></a></li>
<li><a class="reference internal" href="../csharp/api/space-center/vessel.html#property-KRPC.Client.Services.SpaceCenter.Vessel.SurfaceVelocityReferenceFrame" title="KRPC.Client.Services.SpaceCenter.Vessel.SurfaceVelocityReferenceFrame property"><code class="xref csharp csharp-prop docutils literal"><span class="pre">Vessel.SurfaceVelocityReferenceFrame</span></code></a></li>
<li><a class="reference internal" href="../csharp/api/space-center/celestial-body.html#property-KRPC.Client.Services.SpaceCenter.CelestialBody.ReferenceFrame" title="KRPC.Client.Services.SpaceCenter.CelestialBody.ReferenceFrame property"><code class="xref csharp csharp-prop docutils literal"><span class="pre">CelestialBody.ReferenceFrame</span></code></a></li>
<li><a class="reference internal" href="../csharp/api/space-center/celestial-body.html#property-KRPC.Client.Services.SpaceCenter.CelestialBody.NonRotatingReferenceFrame" title="KRPC.Client.Services.SpaceCenter.CelestialBody.NonRotatingReferenceFrame property"><code class="xref csharp csharp-prop docutils literal"><span class="pre">CelestialBody.NonRotatingReferenceFrame</span></code></a></li>
<li><a class="reference internal" href="../csharp/api/space-center/celestial-body.html#property-KRPC.Client.Services.SpaceCenter.CelestialBody.OrbitalReferenceFrame" title="KRPC.Client.Services.SpaceCenter.CelestialBody.OrbitalReferenceFrame property"><code class="xref csharp csharp-prop docutils literal"><span class="pre">CelestialBody.OrbitalReferenceFrame</span></code></a></li>
<li><a class="reference internal" href="../csharp/api/space-center/node.html#property-KRPC.Client.Services.SpaceCenter.Node.ReferenceFrame" title="KRPC.Client.Services.SpaceCenter.Node.ReferenceFrame property"><code class="xref csharp csharp-prop docutils literal"><span class="pre">Node.ReferenceFrame</span></code></a></li>
<li><a class="reference internal" href="../csharp/api/space-center/node.html#property-KRPC.Client.Services.SpaceCenter.Node.OrbitalReferenceFrame" title="KRPC.Client.Services.SpaceCenter.Node.OrbitalReferenceFrame property"><code class="xref csharp csharp-prop docutils literal"><span class="pre">Node.OrbitalReferenceFrame</span></code></a></li>
<li><a class="reference internal" href="../csharp/api/space-center/parts.html#property-KRPC.Client.Services.SpaceCenter.Part.ReferenceFrame" title="KRPC.Client.Services.SpaceCenter.Part.ReferenceFrame property"><code class="xref csharp csharp-prop docutils literal"><span class="pre">Part.ReferenceFrame</span></code></a></li>
<li><a class="reference internal" href="../csharp/api/space-center/parts.html#property-KRPC.Client.Services.SpaceCenter.Part.CenterOfMassReferenceFrame" title="KRPC.Client.Services.SpaceCenter.Part.CenterOfMassReferenceFrame property"><code class="xref csharp csharp-prop docutils literal"><span class="pre">Part.CenterOfMassReferenceFrame</span></code></a></li>
<li><a class="reference internal" href="../csharp/api/space-center/parts.html#property-KRPC.Client.Services.SpaceCenter.DockingPort.ReferenceFrame" title="KRPC.Client.Services.SpaceCenter.DockingPort.ReferenceFrame property"><code class="xref csharp csharp-prop docutils literal"><span class="pre">DockingPort.ReferenceFrame</span></code></a></li>
<li><a class="reference internal" href="../csharp/api/space-center/parts.html#property-KRPC.Client.Services.SpaceCenter.Thruster.ThrustReferenceFrame" title="KRPC.Client.Services.SpaceCenter.Thruster.ThrustReferenceFrame property"><code class="xref csharp csharp-prop docutils literal"><span class="pre">Thruster.ThrustReferenceFrame</span></code></a></li>
</ul>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-6 docutils container">
<ul class="simple">
<li><a class="reference internal" href="../cpp/api/space-center/vessel.html#_CPPv2N4krpc8services11SpaceCenter6Vessel15reference_frameEv" title="krpc::services::SpaceCenter::Vessel::reference_frame"><code class="xref cpp cpp-func docutils literal"><span class="pre">Vessel::reference_frame()</span></code></a></li>
<li><a class="reference internal" href="../cpp/api/space-center/vessel.html#_CPPv2N4krpc8services11SpaceCenter6Vessel23orbital_reference_frameEv" title="krpc::services::SpaceCenter::Vessel::orbital_reference_frame"><code class="xref cpp cpp-func docutils literal"><span class="pre">Vessel::orbital_reference_frame()</span></code></a></li>
<li><a class="reference internal" href="../cpp/api/space-center/vessel.html#_CPPv2N4krpc8services11SpaceCenter6Vessel23surface_reference_frameEv" title="krpc::services::SpaceCenter::Vessel::surface_reference_frame"><code class="xref cpp cpp-func docutils literal"><span class="pre">Vessel::surface_reference_frame()</span></code></a></li>
<li><a class="reference internal" href="../cpp/api/space-center/vessel.html#_CPPv2N4krpc8services11SpaceCenter6Vessel32surface_velocity_reference_frameEv" title="krpc::services::SpaceCenter::Vessel::surface_velocity_reference_frame"><code class="xref cpp cpp-func docutils literal"><span class="pre">Vessel::surface_velocity_reference_frame()</span></code></a></li>
<li><a class="reference internal" href="../cpp/api/space-center/celestial-body.html#_CPPv2N4krpc8services11SpaceCenter13CelestialBody15reference_frameEv" title="krpc::services::SpaceCenter::CelestialBody::reference_frame"><code class="xref cpp cpp-func docutils literal"><span class="pre">CelestialBody::reference_frame()</span></code></a></li>
<li><a class="reference internal" href="../cpp/api/space-center/celestial-body.html#_CPPv2N4krpc8services11SpaceCenter13CelestialBody28non_rotating_reference_frameEv" title="krpc::services::SpaceCenter::CelestialBody::non_rotating_reference_frame"><code class="xref cpp cpp-func docutils literal"><span class="pre">CelestialBody::non_rotating_reference_frame()</span></code></a></li>
<li><a class="reference internal" href="../cpp/api/space-center/celestial-body.html#_CPPv2N4krpc8services11SpaceCenter13CelestialBody23orbital_reference_frameEv" title="krpc::services::SpaceCenter::CelestialBody::orbital_reference_frame"><code class="xref cpp cpp-func docutils literal"><span class="pre">CelestialBody::orbital_reference_frame()</span></code></a></li>
<li><a class="reference internal" href="../cpp/api/space-center/node.html#_CPPv2N4krpc8services11SpaceCenter4Node15reference_frameEv" title="krpc::services::SpaceCenter::Node::reference_frame"><code class="xref cpp cpp-func docutils literal"><span class="pre">Node::reference_frame()</span></code></a></li>
<li><a class="reference internal" href="../cpp/api/space-center/node.html#_CPPv2N4krpc8services11SpaceCenter4Node23orbital_reference_frameEv" title="krpc::services::SpaceCenter::Node::orbital_reference_frame"><code class="xref cpp cpp-func docutils literal"><span class="pre">Node::orbital_reference_frame()</span></code></a></li>
<li><a class="reference internal" href="../cpp/api/space-center/parts.html#_CPPv2N4krpc8services11SpaceCenter4Part15reference_frameEv" title="krpc::services::SpaceCenter::Part::reference_frame"><code class="xref cpp cpp-func docutils literal"><span class="pre">Part::reference_frame()</span></code></a></li>
<li><a class="reference internal" href="../cpp/api/space-center/parts.html#_CPPv2N4krpc8services11SpaceCenter4Part30center_of_mass_reference_frameEv" title="krpc::services::SpaceCenter::Part::center_of_mass_reference_frame"><code class="xref cpp cpp-func docutils literal"><span class="pre">Part::center_of_mass_reference_frame()</span></code></a></li>
<li><a class="reference internal" href="../cpp/api/space-center/parts.html#_CPPv2N4krpc8services11SpaceCenter11DockingPort15reference_frameEv" title="krpc::services::SpaceCenter::DockingPort::reference_frame"><code class="xref cpp cpp-func docutils literal"><span class="pre">DockingPort::reference_frame()</span></code></a></li>
<li><a class="reference internal" href="../cpp/api/space-center/parts.html#_CPPv2N4krpc8services11SpaceCenter8Thruster22thrust_reference_frameEv" title="krpc::services::SpaceCenter::Thruster::thrust_reference_frame"><code class="xref cpp cpp-func docutils literal"><span class="pre">Thruster::thrust_reference_frame()</span></code></a></li>
</ul>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-7 docutils container">
<ul class="simple">
<li><a class="reference internal" href="../java/api/space-center/vessel.html#krpc.client.services.SpaceCenter.Vessel.getReferenceFrame()" title="krpc.client.services.SpaceCenter.Vessel.getReferenceFrame()"><code class="xref java java-meth docutils literal"><span class="pre">Vessel.getReferenceFrame</span></code></a></li>
<li><a class="reference internal" href="../java/api/space-center/vessel.html#krpc.client.services.SpaceCenter.Vessel.getOrbitalReferenceFrame()" title="krpc.client.services.SpaceCenter.Vessel.getOrbitalReferenceFrame()"><code class="xref java java-meth docutils literal"><span class="pre">Vessel.getOrbitalReferenceFrame</span></code></a></li>
<li><a class="reference internal" href="../java/api/space-center/vessel.html#krpc.client.services.SpaceCenter.Vessel.getSurfaceReferenceFrame()" title="krpc.client.services.SpaceCenter.Vessel.getSurfaceReferenceFrame()"><code class="xref java java-meth docutils literal"><span class="pre">Vessel.getSurfaceReferenceFrame</span></code></a></li>
<li><a class="reference internal" href="../java/api/space-center/vessel.html#krpc.client.services.SpaceCenter.Vessel.getSurfaceVelocityReferenceFrame()" title="krpc.client.services.SpaceCenter.Vessel.getSurfaceVelocityReferenceFrame()"><code class="xref java java-meth docutils literal"><span class="pre">Vessel.getSurfaceVelocityReferenceFrame</span></code></a></li>
<li><a class="reference internal" href="../java/api/space-center/celestial-body.html#krpc.client.services.SpaceCenter.CelestialBody.getReferenceFrame()" title="krpc.client.services.SpaceCenter.CelestialBody.getReferenceFrame()"><code class="xref java java-meth docutils literal"><span class="pre">CelestialBody.getReferenceFrame</span></code></a></li>
<li><a class="reference internal" href="../java/api/space-center/celestial-body.html#krpc.client.services.SpaceCenter.CelestialBody.getNonRotatingReferenceFrame()" title="krpc.client.services.SpaceCenter.CelestialBody.getNonRotatingReferenceFrame()"><code class="xref java java-meth docutils literal"><span class="pre">CelestialBody.getNonRotatingReferenceFrame</span></code></a></li>
<li><a class="reference internal" href="../java/api/space-center/celestial-body.html#krpc.client.services.SpaceCenter.CelestialBody.getOrbitalReferenceFrame()" title="krpc.client.services.SpaceCenter.CelestialBody.getOrbitalReferenceFrame()"><code class="xref java java-meth docutils literal"><span class="pre">CelestialBody.getOrbitalReferenceFrame</span></code></a></li>
<li><a class="reference internal" href="../java/api/space-center/node.html#krpc.client.services.SpaceCenter.Node.getReferenceFrame()" title="krpc.client.services.SpaceCenter.Node.getReferenceFrame()"><code class="xref java java-meth docutils literal"><span class="pre">Node.getReferenceFrame</span></code></a></li>
<li><a class="reference internal" href="../java/api/space-center/node.html#krpc.client.services.SpaceCenter.Node.getOrbitalReferenceFrame()" title="krpc.client.services.SpaceCenter.Node.getOrbitalReferenceFrame()"><code class="xref java java-meth docutils literal"><span class="pre">Node.getOrbitalReferenceFrame</span></code></a></li>
<li><a class="reference internal" href="../java/api/space-center/parts.html#krpc.client.services.SpaceCenter.Part.getReferenceFrame()" title="krpc.client.services.SpaceCenter.Part.getReferenceFrame()"><code class="xref java java-meth docutils literal"><span class="pre">Part.getReferenceFrame</span></code></a></li>
<li><a class="reference internal" href="../java/api/space-center/parts.html#krpc.client.services.SpaceCenter.Part.getCenterOfMassReferenceFrame()" title="krpc.client.services.SpaceCenter.Part.getCenterOfMassReferenceFrame()"><code class="xref java java-meth docutils literal"><span class="pre">Part.getCenterOfMassReferenceFrame</span></code></a></li>
<li><a class="reference internal" href="../java/api/space-center/parts.html#krpc.client.services.SpaceCenter.DockingPort.getReferenceFrame()" title="krpc.client.services.SpaceCenter.DockingPort.getReferenceFrame()"><code class="xref java java-meth docutils literal"><span class="pre">DockingPort.getReferenceFrame</span></code></a></li>
<li><a class="reference internal" href="../java/api/space-center/parts.html#krpc.client.services.SpaceCenter.Thruster.getThrustReferenceFrame()" title="krpc.client.services.SpaceCenter.Thruster.getThrustReferenceFrame()"><code class="xref java java-meth docutils literal"><span class="pre">Thruster.getThrustReferenceFrame</span></code></a></li>
</ul>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-8 docutils container">
<ul class="simple">
<li><a class="reference internal" href="../lua/api/space-center/vessel.html#SpaceCenter.Vessel.reference_frame" title="SpaceCenter.Vessel.reference_frame"><code class="xref lua lua-attr docutils literal"><span class="pre">Vessel.reference_frame</span></code></a></li>
<li><a class="reference internal" href="../lua/api/space-center/vessel.html#SpaceCenter.Vessel.orbital_reference_frame" title="SpaceCenter.Vessel.orbital_reference_frame"><code class="xref lua lua-attr docutils literal"><span class="pre">Vessel.orbital_reference_frame</span></code></a></li>
<li><a class="reference internal" href="../lua/api/space-center/vessel.html#SpaceCenter.Vessel.surface_reference_frame" title="SpaceCenter.Vessel.surface_reference_frame"><code class="xref lua lua-attr docutils literal"><span class="pre">Vessel.surface_reference_frame</span></code></a></li>
<li><a class="reference internal" href="../lua/api/space-center/vessel.html#SpaceCenter.Vessel.surface_velocity_reference_frame" title="SpaceCenter.Vessel.surface_velocity_reference_frame"><code class="xref lua lua-attr docutils literal"><span class="pre">Vessel.surface_velocity_reference_frame</span></code></a></li>
<li><a class="reference internal" href="../lua/api/space-center/celestial-body.html#SpaceCenter.CelestialBody.reference_frame" title="SpaceCenter.CelestialBody.reference_frame"><code class="xref lua lua-attr docutils literal"><span class="pre">CelestialBody.reference_frame</span></code></a></li>
<li><a class="reference internal" href="../lua/api/space-center/celestial-body.html#SpaceCenter.CelestialBody.non_rotating_reference_frame" title="SpaceCenter.CelestialBody.non_rotating_reference_frame"><code class="xref lua lua-attr docutils literal"><span class="pre">CelestialBody.non_rotating_reference_frame</span></code></a></li>
<li><a class="reference internal" href="../lua/api/space-center/celestial-body.html#SpaceCenter.CelestialBody.orbital_reference_frame" title="SpaceCenter.CelestialBody.orbital_reference_frame"><code class="xref lua lua-attr docutils literal"><span class="pre">CelestialBody.orbital_reference_frame</span></code></a></li>
<li><a class="reference internal" href="../lua/api/space-center/node.html#SpaceCenter.Node.reference_frame" title="SpaceCenter.Node.reference_frame"><code class="xref lua lua-attr docutils literal"><span class="pre">Node.reference_frame</span></code></a></li>
<li><a class="reference internal" href="../lua/api/space-center/node.html#SpaceCenter.Node.orbital_reference_frame" title="SpaceCenter.Node.orbital_reference_frame"><code class="xref lua lua-attr docutils literal"><span class="pre">Node.orbital_reference_frame</span></code></a></li>
<li><a class="reference internal" href="../lua/api/space-center/parts.html#SpaceCenter.Part.reference_frame" title="SpaceCenter.Part.reference_frame"><code class="xref lua lua-attr docutils literal"><span class="pre">Part.reference_frame</span></code></a></li>
<li><a class="reference internal" href="../lua/api/space-center/parts.html#SpaceCenter.Part.center_of_mass_reference_frame" title="SpaceCenter.Part.center_of_mass_reference_frame"><code class="xref lua lua-attr docutils literal"><span class="pre">Part.center_of_mass_reference_frame</span></code></a></li>
<li><a class="reference internal" href="../lua/api/space-center/parts.html#SpaceCenter.DockingPort.reference_frame" title="SpaceCenter.DockingPort.reference_frame"><code class="xref lua lua-attr docutils literal"><span class="pre">DockingPort.reference_frame</span></code></a></li>
<li><a class="reference internal" href="../lua/api/space-center/parts.html#SpaceCenter.Thruster.thrust_reference_frame" title="SpaceCenter.Thruster.thrust_reference_frame"><code class="xref lua lua-attr docutils literal"><span class="pre">Thruster.thrust_reference_frame</span></code></a></li>
</ul>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-9 docutils container">
<ul class="simple">
<li><a class="reference internal" href="../python/api/space-center/vessel.html#SpaceCenter.Vessel.reference_frame" title="SpaceCenter.Vessel.reference_frame"><code class="xref py py-attr docutils literal"><span class="pre">Vessel.reference_frame</span></code></a></li>
<li><a class="reference internal" href="../python/api/space-center/vessel.html#SpaceCenter.Vessel.orbital_reference_frame" title="SpaceCenter.Vessel.orbital_reference_frame"><code class="xref py py-attr docutils literal"><span class="pre">Vessel.orbital_reference_frame</span></code></a></li>
<li><a class="reference internal" href="../python/api/space-center/vessel.html#SpaceCenter.Vessel.surface_reference_frame" title="SpaceCenter.Vessel.surface_reference_frame"><code class="xref py py-attr docutils literal"><span class="pre">Vessel.surface_reference_frame</span></code></a></li>
<li><a class="reference internal" href="../python/api/space-center/vessel.html#SpaceCenter.Vessel.surface_velocity_reference_frame" title="SpaceCenter.Vessel.surface_velocity_reference_frame"><code class="xref py py-attr docutils literal"><span class="pre">Vessel.surface_velocity_reference_frame</span></code></a></li>
<li><a class="reference internal" href="../python/api/space-center/celestial-body.html#SpaceCenter.CelestialBody.reference_frame" title="SpaceCenter.CelestialBody.reference_frame"><code class="xref py py-attr docutils literal"><span class="pre">CelestialBody.reference_frame</span></code></a></li>
<li><a class="reference internal" href="../python/api/space-center/celestial-body.html#SpaceCenter.CelestialBody.non_rotating_reference_frame" title="SpaceCenter.CelestialBody.non_rotating_reference_frame"><code class="xref py py-attr docutils literal"><span class="pre">CelestialBody.non_rotating_reference_frame</span></code></a></li>
<li><a class="reference internal" href="../python/api/space-center/celestial-body.html#SpaceCenter.CelestialBody.orbital_reference_frame" title="SpaceCenter.CelestialBody.orbital_reference_frame"><code class="xref py py-attr docutils literal"><span class="pre">CelestialBody.orbital_reference_frame</span></code></a></li>
<li><a class="reference internal" href="../python/api/space-center/node.html#SpaceCenter.Node.reference_frame" title="SpaceCenter.Node.reference_frame"><code class="xref py py-attr docutils literal"><span class="pre">Node.reference_frame</span></code></a></li>
<li><a class="reference internal" href="../python/api/space-center/node.html#SpaceCenter.Node.orbital_reference_frame" title="SpaceCenter.Node.orbital_reference_frame"><code class="xref py py-attr docutils literal"><span class="pre">Node.orbital_reference_frame</span></code></a></li>
<li><a class="reference internal" href="../python/api/space-center/parts.html#SpaceCenter.Part.reference_frame" title="SpaceCenter.Part.reference_frame"><code class="xref py py-attr docutils literal"><span class="pre">Part.reference_frame</span></code></a></li>
<li><a class="reference internal" href="../python/api/space-center/parts.html#SpaceCenter.Part.center_of_mass_reference_frame" title="SpaceCenter.Part.center_of_mass_reference_frame"><code class="xref py py-attr docutils literal"><span class="pre">Part.center_of_mass_reference_frame</span></code></a></li>
<li><a class="reference internal" href="../python/api/space-center/parts.html#SpaceCenter.DockingPort.reference_frame" title="SpaceCenter.DockingPort.reference_frame"><code class="xref py py-attr docutils literal"><span class="pre">DockingPort.reference_frame</span></code></a></li>
<li><a class="reference internal" href="../python/api/space-center/parts.html#SpaceCenter.Thruster.thrust_reference_frame" title="SpaceCenter.Thruster.thrust_reference_frame"><code class="xref py py-attr docutils literal"><span class="pre">Thruster.thrust_reference_frame</span></code></a></li>
</ul>
</div>
</div>
<p>Relative and hybrid reference frames can also be constructed from the above.</p>
</div>
<div class="section" id="custom-reference-frames">
<h2><a class="toc-backref" href="#id11">Custom Reference Frames</a><a class="headerlink" href="#custom-reference-frames" title="Permalink to this headline">¶</a></h2>
<p>Custom reference frames can be constructed from the built in frames listed
above. They come in two varieties: ‘relative’ and ‘hybrid’.</p>
<p>A relative reference frame is constructed from a parent reference frame, a fixed
position offset and a fixed rotation offset. For example, this could be used to
construct a reference frame whose origin is 10m below the vessel as follows, by
applying a position offset of 10 along the z-axis to
<a class="reference internal" href="../python/api/space-center/vessel.html#SpaceCenter.Vessel.reference_frame" title="SpaceCenter.Vessel.reference_frame"><code class="xref py py-attr docutils literal"><span class="pre">Vessel.reference_frame</span></code></a>. Relative reference frames can be constructed by
calling <a class="reference internal" href="../python/api/space-center/reference-frame.html#SpaceCenter.ReferenceFrame.create_relative" title="SpaceCenter.ReferenceFrame.create_relative"><code class="xref py py-meth docutils literal"><span class="pre">ReferenceFrame.create_relative()</span></code></a>.</p>
<p>A hybrid reference frame inherits its components (position, rotation, velocity
and angular velocity) from the components of other reference frames. Note that
these components need not be fixed. For example, you could construct a reference
frame whose position is the center of mass of the vessel (inherited from
<a class="reference internal" href="../python/api/space-center/vessel.html#SpaceCenter.Vessel.reference_frame" title="SpaceCenter.Vessel.reference_frame"><code class="xref py py-attr docutils literal"><span class="pre">Vessel.reference_frame</span></code></a>) and whose rotation is that of the planet being
orbited (inherited from <a class="reference internal" href="../python/api/space-center/celestial-body.html#SpaceCenter.CelestialBody.reference_frame" title="SpaceCenter.CelestialBody.reference_frame"><code class="xref py py-attr docutils literal"><span class="pre">CelestialBody.reference_frame</span></code></a>). Relative
reference frames can be constructed by calling
<a class="reference internal" href="../python/api/space-center/reference-frame.html#SpaceCenter.ReferenceFrame.create_hybrid" title="SpaceCenter.ReferenceFrame.create_hybrid"><code class="xref py py-meth docutils literal"><span class="pre">ReferenceFrame.create_hybrid()</span></code></a>.</p>
<p>The parent reference frame(s) of a custom reference frame can also be other
custom reference frames. For example, you could combine the two example frames
from above: construct a hybrid reference frame, centered on the vessel and
rotated with the planet being orbited, and then create a relative reference that
offsets the position of this 10m along the z-axis. The resulting frame will have
its origin 10m below the vessel, and will be rotated with the planet being
orbited.</p>
</div>
<div class="section" id="converting-between-reference-frames">
<h2><a class="toc-backref" href="#id12">Converting Between Reference Frames</a><a class="headerlink" href="#converting-between-reference-frames" title="Permalink to this headline">¶</a></h2>
<p>kRPC provides utility methods to convert positions, directions, rotations and
velocities between the different reference frames:</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-10 docutils container">
<div class="docutils container">
C#</div>
</div>
<div class="item sphinx-data-tab-11 docutils container">
<div class="docutils container">
C++</div>
</div>
<div class="item sphinx-data-tab-12 docutils container">
<div class="docutils container">
Java</div>
</div>
<div class="item sphinx-data-tab-13 docutils container">
<div class="docutils container">
Lua</div>
</div>
<div class="item sphinx-data-tab-14 docutils container">
<div class="docutils container">
Python</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-10 active docutils container">
<ul class="simple">
<li><a class="reference internal" href="../csharp/api/space-center/space-center.html#method-KRPC.Client.Services.SpaceCenter.SpaceCenter.TransformPosition" title="KRPC.Client.Services.SpaceCenter.SpaceCenter.TransformPosition method"><code class="xref csharp csharp-meth docutils literal"><span class="pre">SpaceCenter.TransformPosition</span></code></a></li>
<li><a class="reference internal" href="../csharp/api/space-center/space-center.html#method-KRPC.Client.Services.SpaceCenter.SpaceCenter.TransformDirection" title="KRPC.Client.Services.SpaceCenter.SpaceCenter.TransformDirection method"><code class="xref csharp csharp-meth docutils literal"><span class="pre">SpaceCenter.TransformDirection</span></code></a></li>
<li><a class="reference internal" href="../csharp/api/space-center/space-center.html#method-KRPC.Client.Services.SpaceCenter.SpaceCenter.TransformRotation" title="KRPC.Client.Services.SpaceCenter.SpaceCenter.TransformRotation method"><code class="xref csharp csharp-meth docutils literal"><span class="pre">SpaceCenter.TransformRotation</span></code></a></li>
<li><a class="reference internal" href="../csharp/api/space-center/space-center.html#method-KRPC.Client.Services.SpaceCenter.SpaceCenter.TransformVelocity" title="KRPC.Client.Services.SpaceCenter.SpaceCenter.TransformVelocity method"><code class="xref csharp csharp-meth docutils literal"><span class="pre">SpaceCenter.TransformVelocity</span></code></a></li>
</ul>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-11 docutils container">
<ul class="simple">
<li><a class="reference internal" href="../cpp/api/space-center/space-center.html#_CPPv2N4krpc8services11SpaceCenter18transform_positionENSt5tupleIdddEE14ReferenceFrame14ReferenceFrame" title="krpc::services::SpaceCenter::transform_position"><code class="xref cpp cpp-func docutils literal"><span class="pre">SpaceCenter::transform_position()</span></code></a></li>
<li><a class="reference internal" href="../cpp/api/space-center/space-center.html#_CPPv2N4krpc8services11SpaceCenter19transform_directionENSt5tupleIdddEE14ReferenceFrame14ReferenceFrame" title="krpc::services::SpaceCenter::transform_direction"><code class="xref cpp cpp-func docutils literal"><span class="pre">SpaceCenter::transform_direction()</span></code></a></li>
<li><a class="reference internal" href="../cpp/api/space-center/space-center.html#_CPPv2N4krpc8services11SpaceCenter18transform_rotationENSt5tupleIddddEE14ReferenceFrame14ReferenceFrame" title="krpc::services::SpaceCenter::transform_rotation"><code class="xref cpp cpp-func docutils literal"><span class="pre">SpaceCenter::transform_rotation()</span></code></a></li>
<li><a class="reference internal" href="../cpp/api/space-center/space-center.html#_CPPv2N4krpc8services11SpaceCenter18transform_velocityENSt5tupleIdddEENSt5tupleIdddEE14ReferenceFrame14ReferenceFrame" title="krpc::services::SpaceCenter::transform_velocity"><code class="xref cpp cpp-func docutils literal"><span class="pre">SpaceCenter::transform_velocity()</span></code></a></li>
</ul>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-12 docutils container">
<ul class="simple">
<li><a class="reference internal" href="../java/api/space-center/space-center.html#krpc.client.services.SpaceCenter.SpaceCenter.transformPosition(org.javatuples.Triplet, ReferenceFrame, ReferenceFrame)" title="krpc.client.services.SpaceCenter.SpaceCenter.transformPosition(org.javatuples.Triplet, ReferenceFrame, ReferenceFrame)"><code class="xref java java-meth docutils literal"><span class="pre">SpaceCenter.transformPosition</span></code></a></li>
<li><a class="reference internal" href="../java/api/space-center/space-center.html#krpc.client.services.SpaceCenter.SpaceCenter.transformDirection(org.javatuples.Triplet, ReferenceFrame, ReferenceFrame)" title="krpc.client.services.SpaceCenter.SpaceCenter.transformDirection(org.javatuples.Triplet, ReferenceFrame, ReferenceFrame)"><code class="xref java java-meth docutils literal"><span class="pre">SpaceCenter.transformDirection</span></code></a></li>
<li><a class="reference internal" href="../java/api/space-center/space-center.html#krpc.client.services.SpaceCenter.SpaceCenter.transformRotation(org.javatuples.Quartet, ReferenceFrame, ReferenceFrame)" title="krpc.client.services.SpaceCenter.SpaceCenter.transformRotation(org.javatuples.Quartet, ReferenceFrame, ReferenceFrame)"><code class="xref java java-meth docutils literal"><span class="pre">SpaceCenter.transformRotation</span></code></a></li>
<li><a class="reference internal" href="../java/api/space-center/space-center.html#krpc.client.services.SpaceCenter.SpaceCenter.transformVelocity(org.javatuples.Triplet, org.javatuples.Triplet, ReferenceFrame, ReferenceFrame)" title="krpc.client.services.SpaceCenter.SpaceCenter.transformVelocity(org.javatuples.Triplet, org.javatuples.Triplet, ReferenceFrame, ReferenceFrame)"><code class="xref java java-meth docutils literal"><span class="pre">SpaceCenter.transformVelocity</span></code></a></li>
</ul>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-13 docutils container">
<ul class="simple">
<li><a class="reference internal" href="../lua/api/space-center/space-center.html#SpaceCenter.transform_position" title="SpaceCenter.transform_position"><code class="xref lua lua-meth docutils literal"><span class="pre">SpaceCenter.transform_position()</span></code></a></li>
<li><a class="reference internal" href="../lua/api/space-center/space-center.html#SpaceCenter.transform_direction" title="SpaceCenter.transform_direction"><code class="xref lua lua-meth docutils literal"><span class="pre">SpaceCenter.transform_direction()</span></code></a></li>
<li><a class="reference internal" href="../lua/api/space-center/space-center.html#SpaceCenter.transform_rotation" title="SpaceCenter.transform_rotation"><code class="xref lua lua-meth docutils literal"><span class="pre">SpaceCenter.transform_rotation()</span></code></a></li>
<li><a class="reference internal" href="../lua/api/space-center/space-center.html#SpaceCenter.transform_velocity" title="SpaceCenter.transform_velocity"><code class="xref lua lua-meth docutils literal"><span class="pre">SpaceCenter.transform_velocity()</span></code></a></li>
</ul>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-14 docutils container">
<ul class="simple">
<li><a class="reference internal" href="../python/api/space-center/space-center.html#SpaceCenter.transform_position" title="SpaceCenter.transform_position"><code class="xref py py-meth docutils literal"><span class="pre">SpaceCenter.transform_position()</span></code></a></li>
<li><a class="reference internal" href="../python/api/space-center/space-center.html#SpaceCenter.transform_direction" title="SpaceCenter.transform_direction"><code class="xref py py-meth docutils literal"><span class="pre">SpaceCenter.transform_direction()</span></code></a></li>
<li><a class="reference internal" href="../python/api/space-center/space-center.html#SpaceCenter.transform_rotation" title="SpaceCenter.transform_rotation"><code class="xref py py-meth docutils literal"><span class="pre">SpaceCenter.transform_rotation()</span></code></a></li>
<li><a class="reference internal" href="../python/api/space-center/space-center.html#SpaceCenter.transform_velocity" title="SpaceCenter.transform_velocity"><code class="xref py py-meth docutils literal"><span class="pre">SpaceCenter.transform_velocity()</span></code></a></li>
</ul>
</div>
</div>
</div>
<div class="section" id="visual-debugging">
<h2><a class="toc-backref" href="#id13">Visual Debugging</a><a class="headerlink" href="#visual-debugging" title="Permalink to this headline">¶</a></h2>
<p>References frames can be confusing, and choosing the correct one is a challenge
in itself. To aid debugging, kRPCs drawing functionality can be used to
visualize direction vectors in-game.</p>
<p><a class="reference internal" href="../python/api/drawing/drawing.html#Drawing.add_direction" title="Drawing.add_direction"><code class="xref py py-meth docutils literal"><span class="pre">Drawing.add_direction()</span></code></a> will draw a direction vector, starting from the
origin of the given reference frame. For example, the following code draws the
direction of the current vessels velocity relative to the surface of the body it
is orbiting:</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-15 docutils container">
<div class="docutils container">
C#</div>
</div>
<div class="item sphinx-data-tab-16 docutils container">
<div class="docutils container">
C++</div>
</div>
<div class="item sphinx-data-tab-17 docutils container">
<div class="docutils container">
Java</div>
</div>
<div class="item sphinx-data-tab-18 docutils container">
<div class="docutils container">
Lua</div>
</div>
<div class="item sphinx-data-tab-19 docutils container">
<div class="docutils container">
Python</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-15 active docutils container">
<div class="highlight-csharp"><div class="highlight"><pre><span></span><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">KRPC.Client</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">KRPC.Client.Services.Drawing</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">KRPC.Client.Services.SpaceCenter</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">VisualDebugging</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span> <span class="p">()</span>
    <span class="p">{</span>
        <span class="kt">var</span> <span class="n">conn</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Connection</span> <span class="p">(</span><span class="s">&quot;Visual Debugging&quot;</span><span class="p">);</span>
        <span class="kt">var</span> <span class="n">vessel</span> <span class="p">=</span> <span class="n">conn</span><span class="p">.</span><span class="n">SpaceCenter</span> <span class="p">().</span><span class="n">ActiveVessel</span><span class="p">;</span>

        <span class="kt">var</span> <span class="n">refFrame</span> <span class="p">=</span> <span class="n">vessel</span><span class="p">.</span><span class="n">SurfaceVelocityReferenceFrame</span><span class="p">;</span>
        <span class="n">conn</span><span class="p">.</span><span class="n">Drawing</span> <span class="p">().</span><span class="n">AddDirection</span><span class="p">(</span>
            <span class="k">new</span> <span class="n">Tuple</span><span class="p">&lt;</span><span class="kt">double</span><span class="p">,</span> <span class="kt">double</span><span class="p">,</span> <span class="kt">double</span><span class="p">&gt;(</span><span class="m">0</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">0</span><span class="p">),</span> <span class="n">refFrame</span><span class="p">);</span>
        <span class="k">while</span> <span class="p">(</span><span class="k">true</span><span class="p">)</span> <span class="p">{</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-16 docutils container">
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;krpc.hpp&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;krpc/services/space_center.hpp&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;krpc/services/ui.hpp&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;krpc/services/drawing.hpp&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">krpc</span><span class="o">::</span><span class="n">Client</span> <span class="n">conn</span> <span class="o">=</span> <span class="n">krpc</span><span class="o">::</span><span class="n">connect</span><span class="p">(</span><span class="s">&quot;Visual Debugging&quot;</span><span class="p">);</span>
  <span class="n">krpc</span><span class="o">::</span><span class="n">services</span><span class="o">::</span><span class="n">SpaceCenter</span> <span class="n">space_center</span><span class="p">(</span><span class="o">&amp;</span><span class="n">conn</span><span class="p">);</span>
  <span class="n">krpc</span><span class="o">::</span><span class="n">services</span><span class="o">::</span><span class="n">Drawing</span> <span class="n">drawing</span><span class="p">(</span><span class="o">&amp;</span><span class="n">conn</span><span class="p">);</span>
  <span class="k">auto</span> <span class="n">vessel</span> <span class="o">=</span> <span class="n">space_center</span><span class="p">.</span><span class="n">active_vessel</span><span class="p">();</span>

  <span class="k">auto</span> <span class="n">ref_frame</span> <span class="o">=</span> <span class="n">vessel</span><span class="p">.</span><span class="n">surface_velocity_reference_frame</span><span class="p">();</span>
  <span class="n">drawing</span><span class="p">.</span><span class="n">add_direction</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">make_tuple</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">ref_frame</span><span class="p">);</span>
  <span class="k">while</span> <span class="p">(</span><span class="nb">true</span><span class="p">)</span> <span class="p">{</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-17 docutils container">
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">krpc.client.Connection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">krpc.client.RPCException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">krpc.client.services.SpaceCenter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">krpc.client.services.SpaceCenter.ReferenceFrame</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">krpc.client.services.Drawing</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.javatuples.Triplet</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">VisualDebugging</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">IOException</span><span class="o">,</span> <span class="n">RPCException</span> <span class="o">{</span>
        <span class="n">Connection</span> <span class="n">connection</span> <span class="o">=</span> <span class="n">Connection</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="s">&quot;Visual Debugging&quot;</span><span class="o">);</span>
        <span class="n">SpaceCenter</span> <span class="n">spaceCenter</span> <span class="o">=</span> <span class="n">SpaceCenter</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="n">connection</span><span class="o">);</span>
        <span class="n">Drawing</span> <span class="n">drawing</span> <span class="o">=</span> <span class="n">Drawing</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="n">connection</span><span class="o">);</span>
        <span class="n">SpaceCenter</span><span class="o">.</span><span class="na">Vessel</span> <span class="n">vessel</span> <span class="o">=</span> <span class="n">spaceCenter</span><span class="o">.</span><span class="na">getActiveVessel</span><span class="o">();</span>

        <span class="n">ReferenceFrame</span> <span class="n">refFrame</span> <span class="o">=</span> <span class="n">vessel</span><span class="o">.</span><span class="na">getSurfaceVelocityReferenceFrame</span><span class="o">();</span>
        <span class="n">drawing</span><span class="o">.</span><span class="na">addDirection</span><span class="o">(</span>
          <span class="k">new</span> <span class="n">Triplet</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">,</span> <span class="n">Double</span><span class="o">,</span> <span class="n">Double</span><span class="o">&gt;(</span><span class="mf">0.0</span><span class="o">,</span> <span class="mf">1.0</span><span class="o">,</span> <span class="mf">0.0</span><span class="o">),</span> <span class="n">refFrame</span><span class="o">,</span> <span class="mi">10</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
        <span class="k">while</span> <span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-18 docutils container">
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="kd">local</span> <span class="n">krpc</span> <span class="o">=</span> <span class="nb">require</span> <span class="s1">&#39;krpc&#39;</span>
<span class="kd">local</span> <span class="n">conn</span> <span class="o">=</span> <span class="n">krpc</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;Visual Debugging&#39;</span><span class="p">)</span>
<span class="kd">local</span> <span class="n">vessel</span> <span class="o">=</span> <span class="n">conn</span><span class="p">.</span><span class="n">space_center</span><span class="p">.</span><span class="n">active_vessel</span>

<span class="kd">local</span> <span class="n">ref_frame</span> <span class="o">=</span> <span class="n">vessel</span><span class="p">.</span><span class="n">surface_velocity_reference_frame</span>
<span class="n">conn</span><span class="p">.</span><span class="n">drawing</span><span class="p">.</span><span class="n">add_direction</span><span class="p">(</span><span class="n">List</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span> <span class="n">ref_frame</span><span class="p">)</span>
<span class="kr">while</span> <span class="kc">true</span> <span class="kr">do</span>
<span class="kr">end</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-19 docutils container">
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">krpc</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">krpc</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Visual Debugging&#39;</span><span class="p">)</span>
<span class="n">vessel</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">space_center</span><span class="o">.</span><span class="n">active_vessel</span>

<span class="n">ref_frame</span> <span class="o">=</span> <span class="n">vessel</span><span class="o">.</span><span class="n">surface_velocity_reference_frame</span>
<span class="n">conn</span><span class="o">.</span><span class="n">drawing</span><span class="o">.</span><span class="n">add_direction</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">ref_frame</span><span class="p">)</span>
<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="k">pass</span>
</pre></div>
</div>
</div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The client must remain connected for the line to continue to be drawn,
hence the infinite loop at the end of this example.</p>
</div>
</div>
<div class="section" id="examples">
<h2><a class="toc-backref" href="#id14">Examples</a><a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>The following examples demonstrate various uses of reference frames.</p>
<div class="section" id="navball-directions">
<h3><a class="toc-backref" href="#id15">Navball directions</a><a class="headerlink" href="#navball-directions" title="Permalink to this headline">¶</a></h3>
<p>This example demonstrates how to make the vessel point in various directions on
the navball:</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-20 docutils container">
<div class="docutils container">
C#</div>
</div>
<div class="item sphinx-data-tab-21 docutils container">
<div class="docutils container">
C++</div>
</div>
<div class="item sphinx-data-tab-22 docutils container">
<div class="docutils container">
Java</div>
</div>
<div class="item sphinx-data-tab-23 docutils container">
<div class="docutils container">
Lua</div>
</div>
<div class="item sphinx-data-tab-24 docutils container">
<div class="docutils container">
Python</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-20 active docutils container">
<div class="highlight-csharp"><div class="highlight"><pre><span></span><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Net</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">KRPC.Client</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">KRPC.Client.Services.SpaceCenter</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">NavballDirections</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span> <span class="p">()</span>
    <span class="p">{</span>
        <span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">conn</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Connection</span> <span class="p">(</span><span class="s">&quot;Navball directions&quot;</span><span class="p">))</span> <span class="p">{</span>
            <span class="kt">var</span> <span class="n">vessel</span> <span class="p">=</span> <span class="n">conn</span><span class="p">.</span><span class="n">SpaceCenter</span> <span class="p">().</span><span class="n">ActiveVessel</span><span class="p">;</span>
            <span class="kt">var</span> <span class="n">ap</span> <span class="p">=</span> <span class="n">vessel</span><span class="p">.</span><span class="n">AutoPilot</span><span class="p">;</span>
            <span class="n">ap</span><span class="p">.</span><span class="n">ReferenceFrame</span> <span class="p">=</span> <span class="n">vessel</span><span class="p">.</span><span class="n">SurfaceReferenceFrame</span><span class="p">;</span>
            <span class="n">ap</span><span class="p">.</span><span class="n">Engage</span><span class="p">();</span>

            <span class="c1">// Point the vessel north on the navball, with a pitch of 0 degrees</span>
            <span class="n">ap</span><span class="p">.</span><span class="n">TargetDirection</span> <span class="p">=</span> <span class="n">Tuple</span><span class="p">.</span><span class="n">Create</span> <span class="p">(</span><span class="m">0.0</span><span class="p">,</span> <span class="m">1.0</span><span class="p">,</span> <span class="m">0.0</span><span class="p">);</span>
            <span class="n">ap</span><span class="p">.</span><span class="n">Wait</span><span class="p">();</span>

            <span class="c1">// Point the vessel vertically upwards on the navball</span>
            <span class="n">ap</span><span class="p">.</span><span class="n">TargetDirection</span> <span class="p">=</span> <span class="n">Tuple</span><span class="p">.</span><span class="n">Create</span> <span class="p">(</span><span class="m">1.0</span><span class="p">,</span> <span class="m">0.0</span><span class="p">,</span> <span class="m">0.0</span><span class="p">);</span>
            <span class="n">ap</span><span class="p">.</span><span class="n">Wait</span><span class="p">();</span>

            <span class="c1">// Point the vessel west (heading of 270 degrees), with a pitch of 0 degrees</span>
            <span class="n">ap</span><span class="p">.</span><span class="n">TargetDirection</span> <span class="p">=</span> <span class="n">Tuple</span><span class="p">.</span><span class="n">Create</span> <span class="p">(</span><span class="m">0.0</span><span class="p">,</span> <span class="m">0.0</span><span class="p">,</span> <span class="p">-</span><span class="m">1.0</span><span class="p">);</span>
            <span class="n">ap</span><span class="p">.</span><span class="n">Wait</span><span class="p">();</span>

            <span class="n">ap</span><span class="p">.</span><span class="n">Disengage</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-21 docutils container">
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;krpc.hpp&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;krpc/services/space_center.hpp&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">krpc</span><span class="o">::</span><span class="n">Client</span> <span class="n">conn</span> <span class="o">=</span> <span class="n">krpc</span><span class="o">::</span><span class="n">connect</span><span class="p">(</span><span class="s">&quot;Navball directions&quot;</span><span class="p">);</span>
  <span class="n">krpc</span><span class="o">::</span><span class="n">services</span><span class="o">::</span><span class="n">SpaceCenter</span> <span class="n">space_center</span><span class="p">(</span><span class="o">&amp;</span><span class="n">conn</span><span class="p">);</span>
  <span class="k">auto</span> <span class="n">vessel</span> <span class="o">=</span> <span class="n">space_center</span><span class="p">.</span><span class="n">active_vessel</span><span class="p">();</span>
  <span class="k">auto</span> <span class="n">ap</span> <span class="o">=</span> <span class="n">vessel</span><span class="p">.</span><span class="n">auto_pilot</span><span class="p">();</span>
  <span class="n">ap</span><span class="p">.</span><span class="n">set_reference_frame</span><span class="p">(</span><span class="n">vessel</span><span class="p">.</span><span class="n">surface_reference_frame</span><span class="p">());</span>
  <span class="n">ap</span><span class="p">.</span><span class="n">engage</span><span class="p">();</span>

  <span class="c1">// Point the vessel north on the navball, with a pitch of 0 degrees</span>
  <span class="n">ap</span><span class="p">.</span><span class="n">set_target_direction</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">make_tuple</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">));</span>
  <span class="n">ap</span><span class="p">.</span><span class="n">wait</span><span class="p">();</span>

  <span class="c1">// Point the vessel vertically upwards on the navball</span>
  <span class="n">ap</span><span class="p">.</span><span class="n">set_target_direction</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">make_tuple</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">));</span>
  <span class="n">ap</span><span class="p">.</span><span class="n">wait</span><span class="p">();</span>

  <span class="c1">// Point the vessel west (heading of 270 degrees), with a pitch of 0 degrees</span>
  <span class="n">ap</span><span class="p">.</span><span class="n">set_target_direction</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">make_tuple</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">));</span>
  <span class="n">ap</span><span class="p">.</span><span class="n">wait</span><span class="p">();</span>

  <span class="n">ap</span><span class="p">.</span><span class="n">disengage</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-22 docutils container">
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">krpc.client.Connection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">krpc.client.RPCException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">krpc.client.services.SpaceCenter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">krpc.client.services.SpaceCenter.AutoPilot</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">krpc.client.services.SpaceCenter.Vessel</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.javatuples.Triplet</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">NavballDirections</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">IOException</span><span class="o">,</span> <span class="n">RPCException</span> <span class="o">{</span>
        <span class="n">Connection</span> <span class="n">connection</span> <span class="o">=</span> <span class="n">Connection</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="s">&quot;Navball directions&quot;</span><span class="o">);</span>
        <span class="n">SpaceCenter</span> <span class="n">spaceCenter</span> <span class="o">=</span> <span class="n">SpaceCenter</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="n">connection</span><span class="o">);</span>
        <span class="n">Vessel</span> <span class="n">vessel</span> <span class="o">=</span> <span class="n">spaceCenter</span><span class="o">.</span><span class="na">getActiveVessel</span><span class="o">();</span>
        <span class="n">AutoPilot</span> <span class="n">ap</span> <span class="o">=</span> <span class="n">vessel</span><span class="o">.</span><span class="na">getAutoPilot</span><span class="o">();</span>
        <span class="n">ap</span><span class="o">.</span><span class="na">setReferenceFrame</span><span class="o">(</span><span class="n">vessel</span><span class="o">.</span><span class="na">getSurfaceReferenceFrame</span><span class="o">());</span>
        <span class="n">ap</span><span class="o">.</span><span class="na">engage</span><span class="o">();</span>

        <span class="c1">// Point the vessel north on the navball, with a pitch of 0 degrees</span>
        <span class="n">ap</span><span class="o">.</span><span class="na">setTargetDirection</span><span class="o">(</span><span class="k">new</span> <span class="n">Triplet</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">,</span><span class="n">Double</span><span class="o">,</span><span class="n">Double</span><span class="o">&gt;</span> <span class="o">(</span><span class="mf">0.0</span><span class="o">,</span> <span class="mf">1.0</span><span class="o">,</span> <span class="mf">0.0</span><span class="o">));</span>
        <span class="n">ap</span><span class="o">.</span><span class="na">wait_</span><span class="o">();</span>

        <span class="c1">// Point the vessel vertically upwards on the navball</span>
        <span class="n">ap</span><span class="o">.</span><span class="na">setTargetDirection</span><span class="o">(</span><span class="k">new</span> <span class="n">Triplet</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">,</span><span class="n">Double</span><span class="o">,</span><span class="n">Double</span><span class="o">&gt;</span> <span class="o">(</span><span class="mf">1.0</span><span class="o">,</span> <span class="mf">0.0</span><span class="o">,</span> <span class="mf">0.0</span><span class="o">));</span>
        <span class="n">ap</span><span class="o">.</span><span class="na">wait_</span><span class="o">();</span>

        <span class="c1">// Point the vessel west (heading of 270 degrees), with a pitch of 0 degrees</span>
        <span class="n">ap</span><span class="o">.</span><span class="na">setTargetDirection</span><span class="o">(</span><span class="k">new</span> <span class="n">Triplet</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">,</span><span class="n">Double</span><span class="o">,</span><span class="n">Double</span><span class="o">&gt;</span> <span class="o">(</span><span class="mf">0.0</span><span class="o">,</span> <span class="mf">0.0</span><span class="o">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="o">));</span>
        <span class="n">ap</span><span class="o">.</span><span class="na">wait_</span><span class="o">();</span>

        <span class="n">ap</span><span class="o">.</span><span class="na">disengage</span><span class="o">();</span>
        <span class="n">connection</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-23 docutils container">
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="kd">local</span> <span class="n">krpc</span> <span class="o">=</span> <span class="nb">require</span> <span class="s1">&#39;krpc&#39;</span>
<span class="kd">local</span> <span class="n">List</span> <span class="o">=</span> <span class="nb">require</span> <span class="s1">&#39;pl.List&#39;</span>
<span class="kd">local</span> <span class="n">conn</span> <span class="o">=</span> <span class="n">krpc</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;Navball directions&#39;</span><span class="p">)</span>
<span class="kd">local</span> <span class="n">vessel</span> <span class="o">=</span> <span class="n">conn</span><span class="p">.</span><span class="n">space_center</span><span class="p">.</span><span class="n">active_vessel</span>
<span class="kd">local</span> <span class="n">ap</span> <span class="o">=</span> <span class="n">vessel</span><span class="p">.</span><span class="n">auto_pilot</span>
<span class="n">ap</span><span class="p">.</span><span class="n">reference_frame</span> <span class="o">=</span> <span class="n">vessel</span><span class="p">.</span><span class="n">surface_reference_frame</span>
<span class="n">ap</span><span class="p">:</span><span class="n">engage</span><span class="p">()</span>

<span class="c1">-- Point the vessel north on the navball, with a pitch of 0 degrees</span>
<span class="n">ap</span><span class="p">.</span><span class="n">target_direction</span> <span class="o">=</span> <span class="n">List</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">}</span>
<span class="n">ap</span><span class="p">:</span><span class="n">wait</span><span class="p">()</span>

<span class="c1">-- Point the vessel vertically upwards on the navball</span>
<span class="n">ap</span><span class="p">.</span><span class="n">target_direction</span> <span class="o">=</span> <span class="n">List</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">}</span>
<span class="n">ap</span><span class="p">:</span><span class="n">wait</span><span class="p">()</span>

<span class="c1">-- Point the vessel west (heading of 270 degrees), with a pitch of 0 degrees</span>
<span class="n">ap</span><span class="p">.</span><span class="n">target_direction</span> <span class="o">=</span> <span class="n">List</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">}</span>
<span class="n">ap</span><span class="p">:</span><span class="n">wait</span><span class="p">()</span>

<span class="n">ap</span><span class="p">:</span><span class="n">disengage</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-24 docutils container">
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">krpc</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">krpc</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Navball directions&#39;</span><span class="p">)</span>
<span class="n">vessel</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">space_center</span><span class="o">.</span><span class="n">active_vessel</span>
<span class="n">ap</span> <span class="o">=</span> <span class="n">vessel</span><span class="o">.</span><span class="n">auto_pilot</span>
<span class="n">ap</span><span class="o">.</span><span class="n">reference_frame</span> <span class="o">=</span> <span class="n">vessel</span><span class="o">.</span><span class="n">surface_reference_frame</span>
<span class="n">ap</span><span class="o">.</span><span class="n">engage</span><span class="p">()</span>

<span class="c1"># Point the vessel north on the navball, with a pitch of 0 degrees</span>
<span class="n">ap</span><span class="o">.</span><span class="n">target_direction</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">ap</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>

<span class="c1"># Point the vessel vertically upwards on the navball</span>
<span class="n">ap</span><span class="o">.</span><span class="n">target_direction</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">ap</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>

<span class="c1"># Point the vessel west (heading of 270 degrees), with a pitch of 0 degrees</span>
<span class="n">ap</span><span class="o">.</span><span class="n">target_direction</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ap</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>

<span class="n">ap</span><span class="o">.</span><span class="n">disengage</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>The code uses the vessel’s surface reference frame
(<a class="reference internal" href="../python/api/space-center/vessel.html#SpaceCenter.Vessel.surface_reference_frame" title="SpaceCenter.Vessel.surface_reference_frame"><code class="xref py py-attr docutils literal"><span class="pre">Vessel.surface_reference_frame</span></code></a>), pictured below:</p>
<img alt="../_images/vessel-surface.png" class="align-center" src="../_images/vessel-surface.png" />
<p>The first part instructs the auto-pilot to point in direction <code class="docutils literal"><span class="pre">(0,1,0)</span></code>
(i.e. along the y-axis) in the vessel’s surface reference frame. The y-axis of
the reference frame points in the north direction, as required.</p>
<p>The second part instructs the auto-pilot to point in direction <code class="docutils literal"><span class="pre">(1,0,0)</span></code>
(along the x-axis) in the vessel’s surface reference frame. This x-axis of the
reference frame points upwards (away from the planet) as required.</p>
<p>Finally, the code instructs the auto-pilot to point in direction <code class="docutils literal"><span class="pre">(0,0,-1)</span></code>
(along the negative z axis). The z-axis of the reference frame points east, so
the requested direction points west – as required.</p>
</div>
<div class="section" id="orbital-directions">
<h3><a class="toc-backref" href="#id16">Orbital directions</a><a class="headerlink" href="#orbital-directions" title="Permalink to this headline">¶</a></h3>
<p>This example demonstrates how to make the vessel point in the various orbital
directions, as seen on the navball when it is in ‘orbit’ mode. It uses
<a class="reference internal" href="../python/api/space-center/vessel.html#SpaceCenter.Vessel.orbital_reference_frame" title="SpaceCenter.Vessel.orbital_reference_frame"><code class="xref py py-attr docutils literal"><span class="pre">Vessel.orbital_reference_frame</span></code></a>.</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-25 docutils container">
<div class="docutils container">
C#</div>
</div>
<div class="item sphinx-data-tab-26 docutils container">
<div class="docutils container">
C++</div>
</div>
<div class="item sphinx-data-tab-27 docutils container">
<div class="docutils container">
Java</div>
</div>
<div class="item sphinx-data-tab-28 docutils container">
<div class="docutils container">
Lua</div>
</div>
<div class="item sphinx-data-tab-29 docutils container">
<div class="docutils container">
Python</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-25 active docutils container">
<div class="highlight-csharp"><div class="highlight"><pre><span></span><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Net</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">KRPC.Client</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">KRPC.Client.Services.SpaceCenter</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">NavballDirections</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span> <span class="p">()</span>
    <span class="p">{</span>
        <span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">conn</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Connection</span> <span class="p">(</span><span class="s">&quot;Orbital directions&quot;</span><span class="p">))</span> <span class="p">{</span>
            <span class="kt">var</span> <span class="n">vessel</span> <span class="p">=</span> <span class="n">conn</span><span class="p">.</span><span class="n">SpaceCenter</span> <span class="p">().</span><span class="n">ActiveVessel</span><span class="p">;</span>
            <span class="kt">var</span> <span class="n">ap</span> <span class="p">=</span> <span class="n">vessel</span><span class="p">.</span><span class="n">AutoPilot</span><span class="p">;</span>
            <span class="n">ap</span><span class="p">.</span><span class="n">ReferenceFrame</span> <span class="p">=</span> <span class="n">vessel</span><span class="p">.</span><span class="n">OrbitalReferenceFrame</span><span class="p">;</span>
            <span class="n">ap</span><span class="p">.</span><span class="n">Engage</span><span class="p">();</span>

            <span class="c1">// Point the vessel in the prograde direction</span>
            <span class="n">ap</span><span class="p">.</span><span class="n">TargetDirection</span> <span class="p">=</span> <span class="n">Tuple</span><span class="p">.</span><span class="n">Create</span> <span class="p">(</span><span class="m">0.0</span><span class="p">,</span> <span class="m">1.0</span><span class="p">,</span> <span class="m">0.0</span><span class="p">);</span>
            <span class="n">ap</span><span class="p">.</span><span class="n">Wait</span><span class="p">();</span>

            <span class="c1">// Point the vessel in the orbit normal direction</span>
            <span class="n">ap</span><span class="p">.</span><span class="n">TargetDirection</span> <span class="p">=</span> <span class="n">Tuple</span><span class="p">.</span><span class="n">Create</span> <span class="p">(</span><span class="m">0.0</span><span class="p">,</span> <span class="m">0.0</span><span class="p">,</span> <span class="m">1.0</span><span class="p">);</span>
            <span class="n">ap</span><span class="p">.</span><span class="n">Wait</span><span class="p">();</span>

            <span class="c1">// Point the vessel in the orbit radial direction</span>
            <span class="n">ap</span><span class="p">.</span><span class="n">TargetDirection</span> <span class="p">=</span> <span class="n">Tuple</span><span class="p">.</span><span class="n">Create</span> <span class="p">(-</span><span class="m">1.0</span><span class="p">,</span> <span class="m">0.0</span><span class="p">,</span> <span class="m">0.0</span><span class="p">);</span>
            <span class="n">ap</span><span class="p">.</span><span class="n">Wait</span><span class="p">();</span>

            <span class="n">ap</span><span class="p">.</span><span class="n">Disengage</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-26 docutils container">
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;krpc.hpp&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;krpc/services/space_center.hpp&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">krpc</span><span class="o">::</span><span class="n">Client</span> <span class="n">conn</span> <span class="o">=</span> <span class="n">krpc</span><span class="o">::</span><span class="n">connect</span><span class="p">(</span><span class="s">&quot;Orbital directions&quot;</span><span class="p">);</span>
  <span class="n">krpc</span><span class="o">::</span><span class="n">services</span><span class="o">::</span><span class="n">SpaceCenter</span> <span class="n">space_center</span><span class="p">(</span><span class="o">&amp;</span><span class="n">conn</span><span class="p">);</span>
  <span class="k">auto</span> <span class="n">vessel</span> <span class="o">=</span> <span class="n">space_center</span><span class="p">.</span><span class="n">active_vessel</span><span class="p">();</span>
  <span class="k">auto</span> <span class="n">ap</span> <span class="o">=</span> <span class="n">vessel</span><span class="p">.</span><span class="n">auto_pilot</span><span class="p">();</span>
  <span class="n">ap</span><span class="p">.</span><span class="n">set_reference_frame</span><span class="p">(</span><span class="n">vessel</span><span class="p">.</span><span class="n">orbital_reference_frame</span><span class="p">());</span>
  <span class="n">ap</span><span class="p">.</span><span class="n">engage</span><span class="p">();</span>

  <span class="c1">// Point the vessel in the prograde direction</span>
  <span class="n">ap</span><span class="p">.</span><span class="n">set_target_direction</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">make_tuple</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">));</span>
  <span class="n">ap</span><span class="p">.</span><span class="n">wait</span><span class="p">();</span>

  <span class="c1">// Point the vessel in the orbit normal direction</span>
  <span class="n">ap</span><span class="p">.</span><span class="n">set_target_direction</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">make_tuple</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">));</span>
  <span class="n">ap</span><span class="p">.</span><span class="n">wait</span><span class="p">();</span>

  <span class="c1">// Point the vessel in the orbit radial direction</span>
  <span class="n">ap</span><span class="p">.</span><span class="n">set_target_direction</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">make_tuple</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">));</span>
  <span class="n">ap</span><span class="p">.</span><span class="n">wait</span><span class="p">();</span>

  <span class="n">ap</span><span class="p">.</span><span class="n">disengage</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-27 docutils container">
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">krpc.client.Connection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">krpc.client.RPCException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">krpc.client.services.SpaceCenter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">krpc.client.services.SpaceCenter.AutoPilot</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">krpc.client.services.SpaceCenter.Vessel</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.javatuples.Triplet</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">OrbitalDirections</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">IOException</span><span class="o">,</span> <span class="n">RPCException</span> <span class="o">{</span>
        <span class="n">Connection</span> <span class="n">connection</span> <span class="o">=</span> <span class="n">Connection</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="s">&quot;Orbital directions&quot;</span><span class="o">);</span>
        <span class="n">SpaceCenter</span> <span class="n">spaceCenter</span> <span class="o">=</span> <span class="n">SpaceCenter</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="n">connection</span><span class="o">);</span>
        <span class="n">Vessel</span> <span class="n">vessel</span> <span class="o">=</span> <span class="n">spaceCenter</span><span class="o">.</span><span class="na">getActiveVessel</span><span class="o">();</span>
        <span class="n">AutoPilot</span> <span class="n">ap</span> <span class="o">=</span> <span class="n">vessel</span><span class="o">.</span><span class="na">getAutoPilot</span><span class="o">();</span>
        <span class="n">ap</span><span class="o">.</span><span class="na">setReferenceFrame</span><span class="o">(</span><span class="n">vessel</span><span class="o">.</span><span class="na">getOrbitalReferenceFrame</span><span class="o">());</span>
        <span class="n">ap</span><span class="o">.</span><span class="na">engage</span><span class="o">();</span>

        <span class="c1">// Point the vessel in the prograde direction</span>
        <span class="n">ap</span><span class="o">.</span><span class="na">setTargetDirection</span><span class="o">(</span><span class="k">new</span> <span class="n">Triplet</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">,</span><span class="n">Double</span><span class="o">,</span><span class="n">Double</span><span class="o">&gt;</span> <span class="o">(</span><span class="mf">0.0</span><span class="o">,</span> <span class="mf">1.0</span><span class="o">,</span> <span class="mf">0.0</span><span class="o">));</span>
        <span class="n">ap</span><span class="o">.</span><span class="na">wait_</span><span class="o">();</span>

        <span class="c1">// Point the vessel in the orbit normal direction</span>
        <span class="n">ap</span><span class="o">.</span><span class="na">setTargetDirection</span><span class="o">(</span><span class="k">new</span> <span class="n">Triplet</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">,</span><span class="n">Double</span><span class="o">,</span><span class="n">Double</span><span class="o">&gt;</span> <span class="o">(</span><span class="mf">0.0</span><span class="o">,</span> <span class="mf">0.0</span><span class="o">,</span> <span class="mf">1.0</span><span class="o">));</span>
        <span class="n">ap</span><span class="o">.</span><span class="na">wait_</span><span class="o">();</span>

        <span class="c1">// Point the vessel in the orbit radial direction</span>
        <span class="n">ap</span><span class="o">.</span><span class="na">setTargetDirection</span><span class="o">(</span><span class="k">new</span> <span class="n">Triplet</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">,</span><span class="n">Double</span><span class="o">,</span><span class="n">Double</span><span class="o">&gt;</span> <span class="o">(-</span><span class="mf">1.0</span><span class="o">,</span> <span class="mf">0.0</span><span class="o">,</span> <span class="mf">0.0</span><span class="o">));</span>
        <span class="n">ap</span><span class="o">.</span><span class="na">wait_</span><span class="o">();</span>

        <span class="n">ap</span><span class="o">.</span><span class="na">disengage</span><span class="o">();</span>
        <span class="n">connection</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-28 docutils container">
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="kd">local</span> <span class="n">krpc</span> <span class="o">=</span> <span class="nb">require</span> <span class="s1">&#39;krpc&#39;</span>
<span class="kd">local</span> <span class="n">List</span> <span class="o">=</span> <span class="nb">require</span> <span class="s1">&#39;pl.List&#39;</span>
<span class="kd">local</span> <span class="n">conn</span> <span class="o">=</span> <span class="n">krpc</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;Orbital directions&#39;</span><span class="p">)</span>
<span class="kd">local</span> <span class="n">vessel</span> <span class="o">=</span> <span class="n">conn</span><span class="p">.</span><span class="n">space_center</span><span class="p">.</span><span class="n">active_vessel</span>
<span class="kd">local</span> <span class="n">ap</span> <span class="o">=</span> <span class="n">vessel</span><span class="p">.</span><span class="n">auto_pilot</span>
<span class="n">ap</span><span class="p">.</span><span class="n">reference_frame</span> <span class="o">=</span> <span class="n">vessel</span><span class="p">.</span><span class="n">orbital_reference_frame</span>
<span class="n">ap</span><span class="p">:</span><span class="n">engage</span><span class="p">()</span>

<span class="c1">-- Point the vessel in the prograde direction</span>
<span class="n">ap</span><span class="p">.</span><span class="n">target_direction</span> <span class="o">=</span> <span class="n">List</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">}</span>
<span class="n">ap</span><span class="p">:</span><span class="n">wait</span><span class="p">()</span>

<span class="c1">-- Point the vessel in the orbit normal direction</span>
<span class="n">ap</span><span class="p">.</span><span class="n">target_direction</span> <span class="o">=</span> <span class="n">List</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">}</span>
<span class="n">ap</span><span class="p">:</span><span class="n">wait</span><span class="p">()</span>

<span class="c1">-- Point the vessel in the orbit radial direction</span>
<span class="n">ap</span><span class="p">.</span><span class="n">target_direction</span> <span class="o">=</span> <span class="n">List</span><span class="p">{</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">}</span>
<span class="n">ap</span><span class="p">:</span><span class="n">wait</span><span class="p">()</span>

<span class="n">ap</span><span class="p">:</span><span class="n">disengage</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-29 docutils container">
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">krpc</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">krpc</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Orbital directions&#39;</span><span class="p">)</span>
<span class="n">vessel</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">space_center</span><span class="o">.</span><span class="n">active_vessel</span>
<span class="n">ap</span> <span class="o">=</span> <span class="n">vessel</span><span class="o">.</span><span class="n">auto_pilot</span>
<span class="n">ap</span><span class="o">.</span><span class="n">reference_frame</span> <span class="o">=</span> <span class="n">vessel</span><span class="o">.</span><span class="n">orbital_reference_frame</span>
<span class="n">ap</span><span class="o">.</span><span class="n">engage</span><span class="p">()</span>

<span class="c1"># Point the vessel in the prograde direction</span>
<span class="n">ap</span><span class="o">.</span><span class="n">target_direction</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">ap</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>

<span class="c1"># Point the vessel in the orbit normal direction</span>
<span class="n">ap</span><span class="o">.</span><span class="n">target_direction</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">ap</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>

<span class="c1"># Point the vessel in the orbit radial direction</span>
<span class="n">ap</span><span class="o">.</span><span class="n">target_direction</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">ap</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>

<span class="n">ap</span><span class="o">.</span><span class="n">disengage</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>This code uses the vessel’s orbital reference frame, pictured below:</p>
<img alt="../_images/vessel-orbital.png" class="align-center" src="../_images/vessel-orbital.png" />
</div>
<div class="section" id="surface-prograde">
<h3><a class="toc-backref" href="#id17">Surface ‘prograde’</a><a class="headerlink" href="#surface-prograde" title="Permalink to this headline">¶</a></h3>
<p>This example demonstrates how to point the vessel in the ‘prograde’ direction on
the navball, when in ‘surface’ mode. This is the direction of the vessels
velocity relative to the surface:</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-30 docutils container">
<div class="docutils container">
C#</div>
</div>
<div class="item sphinx-data-tab-31 docutils container">
<div class="docutils container">
C++</div>
</div>
<div class="item sphinx-data-tab-32 docutils container">
<div class="docutils container">
Java</div>
</div>
<div class="item sphinx-data-tab-33 docutils container">
<div class="docutils container">
Lua</div>
</div>
<div class="item sphinx-data-tab-34 docutils container">
<div class="docutils container">
Python</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-30 active docutils container">
<div class="highlight-csharp"><div class="highlight"><pre><span></span><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">KRPC.Client</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">KRPC.Client.Services.SpaceCenter</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">SurfacePrograde</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span> <span class="p">()</span>
    <span class="p">{</span>
        <span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">connection</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Connection</span> <span class="p">(</span><span class="n">name</span> <span class="p">:</span> <span class="s">&quot;Surface prograde&quot;</span><span class="p">))</span> <span class="p">{</span>
            <span class="kt">var</span> <span class="n">vessel</span> <span class="p">=</span> <span class="n">connection</span><span class="p">.</span><span class="n">SpaceCenter</span> <span class="p">().</span><span class="n">ActiveVessel</span><span class="p">;</span>
            <span class="kt">var</span> <span class="n">ap</span> <span class="p">=</span> <span class="n">vessel</span><span class="p">.</span><span class="n">AutoPilot</span><span class="p">;</span>

            <span class="n">ap</span><span class="p">.</span><span class="n">ReferenceFrame</span> <span class="p">=</span> <span class="n">vessel</span><span class="p">.</span><span class="n">SurfaceVelocityReferenceFrame</span><span class="p">;</span>
            <span class="n">ap</span><span class="p">.</span><span class="n">TargetDirection</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Tuple</span><span class="p">&lt;</span><span class="kt">double</span><span class="p">,</span><span class="kt">double</span><span class="p">,</span><span class="kt">double</span><span class="p">&gt;</span> <span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">0</span><span class="p">);</span>
            <span class="n">ap</span><span class="p">.</span><span class="n">Engage</span> <span class="p">();</span>
            <span class="n">ap</span><span class="p">.</span><span class="n">Wait</span> <span class="p">();</span>
            <span class="n">ap</span><span class="p">.</span><span class="n">Disengage</span> <span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-31 docutils container">
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;krpc.hpp&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;krpc/services/space_center.hpp&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">krpc</span><span class="o">::</span><span class="n">Client</span> <span class="n">conn</span> <span class="o">=</span> <span class="n">krpc</span><span class="o">::</span><span class="n">connect</span><span class="p">(</span><span class="s">&quot;Surface prograde&quot;</span><span class="p">);</span>
  <span class="n">krpc</span><span class="o">::</span><span class="n">services</span><span class="o">::</span><span class="n">SpaceCenter</span> <span class="n">spaceCenter</span><span class="p">(</span><span class="o">&amp;</span><span class="n">conn</span><span class="p">);</span>
  <span class="k">auto</span> <span class="n">vessel</span> <span class="o">=</span> <span class="n">spaceCenter</span><span class="p">.</span><span class="n">active_vessel</span><span class="p">();</span>
  <span class="k">auto</span> <span class="n">ap</span> <span class="o">=</span> <span class="n">vessel</span><span class="p">.</span><span class="n">auto_pilot</span><span class="p">();</span>

  <span class="n">ap</span><span class="p">.</span><span class="n">set_reference_frame</span><span class="p">(</span><span class="n">vessel</span><span class="p">.</span><span class="n">surface_velocity_reference_frame</span><span class="p">());</span>
  <span class="n">ap</span><span class="p">.</span><span class="n">set_target_direction</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">make_tuple</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">));</span>
  <span class="n">ap</span><span class="p">.</span><span class="n">engage</span><span class="p">();</span>
  <span class="n">ap</span><span class="p">.</span><span class="n">wait</span><span class="p">();</span>
  <span class="n">ap</span><span class="p">.</span><span class="n">disengage</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-32 docutils container">
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">krpc.client.Connection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">krpc.client.RPCException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">krpc.client.services.SpaceCenter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">krpc.client.services.SpaceCenter.AutoPilot</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">krpc.client.services.SpaceCenter.Vessel</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.javatuples.Triplet</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SurfacePrograde</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">IOException</span><span class="o">,</span> <span class="n">RPCException</span> <span class="o">{</span>
        <span class="n">Connection</span> <span class="n">connection</span> <span class="o">=</span> <span class="n">Connection</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="s">&quot;Surface prograde&quot;</span><span class="o">);</span>
        <span class="n">SpaceCenter</span> <span class="n">spaceCenter</span> <span class="o">=</span> <span class="n">SpaceCenter</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="n">connection</span><span class="o">);</span>
        <span class="n">Vessel</span> <span class="n">vessel</span> <span class="o">=</span> <span class="n">spaceCenter</span><span class="o">.</span><span class="na">getActiveVessel</span><span class="o">();</span>
        <span class="n">AutoPilot</span> <span class="n">ap</span> <span class="o">=</span> <span class="n">vessel</span><span class="o">.</span><span class="na">getAutoPilot</span><span class="o">();</span>

        <span class="n">ap</span><span class="o">.</span><span class="na">setReferenceFrame</span><span class="o">(</span><span class="n">vessel</span><span class="o">.</span><span class="na">getSurfaceVelocityReferenceFrame</span><span class="o">());</span>
        <span class="n">ap</span><span class="o">.</span><span class="na">setTargetDirection</span><span class="o">(</span><span class="k">new</span> <span class="n">Triplet</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">,</span><span class="n">Double</span><span class="o">,</span><span class="n">Double</span><span class="o">&gt;(</span><span class="mf">0.0</span><span class="o">,</span> <span class="mf">1.0</span><span class="o">,</span> <span class="mf">0.0</span><span class="o">));</span>
        <span class="n">ap</span><span class="o">.</span><span class="na">engage</span><span class="o">();</span>
        <span class="n">ap</span><span class="o">.</span><span class="na">wait_</span><span class="o">();</span>
        <span class="n">ap</span><span class="o">.</span><span class="na">disengage</span><span class="o">();</span>
        <span class="n">connection</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-33 docutils container">
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="kd">local</span> <span class="n">krpc</span> <span class="o">=</span> <span class="nb">require</span> <span class="s1">&#39;krpc&#39;</span>
<span class="kd">local</span> <span class="n">List</span> <span class="o">=</span> <span class="nb">require</span> <span class="s1">&#39;pl.List&#39;</span>
<span class="kd">local</span> <span class="n">conn</span> <span class="o">=</span> <span class="n">krpc</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;Surface prograde&#39;</span><span class="p">)</span>
<span class="kd">local</span> <span class="n">vessel</span> <span class="o">=</span> <span class="n">conn</span><span class="p">.</span><span class="n">space_center</span><span class="p">.</span><span class="n">active_vessel</span>
<span class="kd">local</span> <span class="n">ap</span> <span class="o">=</span> <span class="n">vessel</span><span class="p">.</span><span class="n">auto_pilot</span>

<span class="n">ap</span><span class="p">.</span><span class="n">reference_frame</span> <span class="o">=</span> <span class="n">vessel</span><span class="p">.</span><span class="n">surface_velocity_reference_frame</span>
<span class="n">ap</span><span class="p">.</span><span class="n">target_direction</span> <span class="o">=</span> <span class="n">List</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">}</span>
<span class="n">ap</span><span class="p">:</span><span class="n">engage</span><span class="p">()</span>
<span class="n">ap</span><span class="p">:</span><span class="n">wait</span><span class="p">()</span>
<span class="n">ap</span><span class="p">:</span><span class="n">disengage</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-34 docutils container">
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">krpc</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">krpc</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Surface prograde&#39;</span><span class="p">)</span>
<span class="n">vessel</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">space_center</span><span class="o">.</span><span class="n">active_vessel</span>
<span class="n">ap</span> <span class="o">=</span> <span class="n">vessel</span><span class="o">.</span><span class="n">auto_pilot</span>

<span class="n">ap</span><span class="o">.</span><span class="n">reference_frame</span> <span class="o">=</span> <span class="n">vessel</span><span class="o">.</span><span class="n">surface_velocity_reference_frame</span>
<span class="n">ap</span><span class="o">.</span><span class="n">target_direction</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">ap</span><span class="o">.</span><span class="n">engage</span><span class="p">()</span>
<span class="n">ap</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>
<span class="n">ap</span><span class="o">.</span><span class="n">disengage</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>This code uses the <a class="reference internal" href="../python/api/space-center/vessel.html#SpaceCenter.Vessel.surface_velocity_reference_frame" title="SpaceCenter.Vessel.surface_velocity_reference_frame"><code class="xref py py-attr docutils literal"><span class="pre">Vessel.surface_velocity_reference_frame</span></code></a>, pictured
below:</p>
<img alt="../_images/vessel-surface-velocity.png" class="align-center" src="../_images/vessel-surface-velocity.png" />
</div>
<div class="section" id="vessel-speed">
<span id="tutorial-reference-frames-vessel-speed"></span><h3><a class="toc-backref" href="#id18">Vessel Speed</a><a class="headerlink" href="#vessel-speed" title="Permalink to this headline">¶</a></h3>
<p>This example demonstrates how to get the orbital and surface speeds of the
vessel, equivalent to the values displayed by the navball.</p>
<p>To compute the orbital speed of a vessel, you need to get the velocity relative
to the planet’s <em>non-rotating</em> reference frame
(<a class="reference internal" href="../python/api/space-center/celestial-body.html#SpaceCenter.CelestialBody.non_rotating_reference_frame" title="SpaceCenter.CelestialBody.non_rotating_reference_frame"><code class="xref py py-attr docutils literal"><span class="pre">CelestialBody.non_rotating_reference_frame</span></code></a>). This reference frame is
fixed relative to the body, but does not rotate.</p>
<p>For the surface speed, the planet’s reference frame
(<a class="reference internal" href="../python/api/space-center/celestial-body.html#SpaceCenter.CelestialBody.reference_frame" title="SpaceCenter.CelestialBody.reference_frame"><code class="xref py py-attr docutils literal"><span class="pre">CelestialBody.reference_frame</span></code></a>) is required, as this reference frame
rotates with the body.</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-35 docutils container">
<div class="docutils container">
C#</div>
</div>
<div class="item sphinx-data-tab-36 docutils container">
<div class="docutils container">
C++</div>
</div>
<div class="item sphinx-data-tab-37 docutils container">
<div class="docutils container">
Java</div>
</div>
<div class="item sphinx-data-tab-38 docutils container">
<div class="docutils container">
Lua</div>
</div>
<div class="item sphinx-data-tab-39 docutils container">
<div class="docutils container">
Python</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-35 active docutils container">
<div class="highlight-csharp"><div class="highlight"><pre><span></span><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">KRPC.Client</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">KRPC.Client.Services.SpaceCenter</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">VesselSpeed</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span> <span class="p">()</span>
    <span class="p">{</span>
        <span class="kt">var</span> <span class="n">connection</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Connection</span> <span class="p">(</span><span class="n">name</span> <span class="p">:</span> <span class="s">&quot;Vessel speed&quot;</span><span class="p">);</span>
        <span class="kt">var</span> <span class="n">vessel</span> <span class="p">=</span> <span class="n">connection</span><span class="p">.</span><span class="n">SpaceCenter</span> <span class="p">().</span><span class="n">ActiveVessel</span><span class="p">;</span>
        <span class="kt">var</span> <span class="n">obtFrame</span> <span class="p">=</span> <span class="n">vessel</span><span class="p">.</span><span class="n">Orbit</span><span class="p">.</span><span class="n">Body</span><span class="p">.</span><span class="n">NonRotatingReferenceFrame</span><span class="p">;</span>
        <span class="kt">var</span> <span class="n">srfFrame</span> <span class="p">=</span> <span class="n">vessel</span><span class="p">.</span><span class="n">Orbit</span><span class="p">.</span><span class="n">Body</span><span class="p">.</span><span class="n">ReferenceFrame</span><span class="p">;</span>
        <span class="k">while</span> <span class="p">(</span><span class="k">true</span><span class="p">)</span> <span class="p">{</span>
            <span class="kt">var</span> <span class="n">obtSpeed</span> <span class="p">=</span> <span class="n">vessel</span><span class="p">.</span><span class="n">Flight</span> <span class="p">(</span><span class="n">obtFrame</span><span class="p">).</span><span class="n">Speed</span><span class="p">;</span>
            <span class="kt">var</span> <span class="n">srfSpeed</span> <span class="p">=</span> <span class="n">vessel</span><span class="p">.</span><span class="n">Flight</span> <span class="p">(</span><span class="n">srfFrame</span><span class="p">).</span><span class="n">Speed</span><span class="p">;</span>
            <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span> <span class="p">(</span>
                <span class="s">&quot;Orbital speed = {0:F1} m/s, Surface speed = {1:F1} m/s&quot;</span><span class="p">,</span>
                <span class="n">obtSpeed</span><span class="p">,</span> <span class="n">srfSpeed</span><span class="p">);</span>
            <span class="n">System</span><span class="p">.</span><span class="n">Threading</span><span class="p">.</span><span class="n">Thread</span><span class="p">.</span><span class="n">Sleep</span> <span class="p">(</span><span class="m">1000</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-36 docutils container">
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;iomanip&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;thread&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;krpc.hpp&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;krpc/services/space_center.hpp&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">krpc</span><span class="o">::</span><span class="n">Client</span> <span class="n">conn</span> <span class="o">=</span> <span class="n">krpc</span><span class="o">::</span><span class="n">connect</span><span class="p">(</span><span class="s">&quot;Vessel speed&quot;</span><span class="p">);</span>
  <span class="n">krpc</span><span class="o">::</span><span class="n">services</span><span class="o">::</span><span class="n">SpaceCenter</span> <span class="n">spaceCenter</span><span class="p">(</span><span class="o">&amp;</span><span class="n">conn</span><span class="p">);</span>
  <span class="k">auto</span> <span class="n">vessel</span> <span class="o">=</span> <span class="n">spaceCenter</span><span class="p">.</span><span class="n">active_vessel</span><span class="p">();</span>
  <span class="k">auto</span> <span class="n">obt_frame</span> <span class="o">=</span> <span class="n">vessel</span><span class="p">.</span><span class="n">orbit</span><span class="p">().</span><span class="n">body</span><span class="p">().</span><span class="n">non_rotating_reference_frame</span><span class="p">();</span>
  <span class="k">auto</span> <span class="n">srf_frame</span> <span class="o">=</span> <span class="n">vessel</span><span class="p">.</span><span class="n">orbit</span><span class="p">().</span><span class="n">body</span><span class="p">().</span><span class="n">reference_frame</span><span class="p">();</span>

  <span class="k">while</span> <span class="p">(</span><span class="nb">true</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">auto</span> <span class="n">obt_speed</span> <span class="o">=</span> <span class="n">vessel</span><span class="p">.</span><span class="n">flight</span><span class="p">(</span><span class="n">obt_frame</span><span class="p">).</span><span class="n">speed</span><span class="p">();</span>
    <span class="k">auto</span> <span class="n">srf_speed</span> <span class="o">=</span> <span class="n">vessel</span><span class="p">.</span><span class="n">flight</span><span class="p">(</span><span class="n">srf_frame</span><span class="p">).</span><span class="n">speed</span><span class="p">();</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">fixed</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">setprecision</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
              <span class="o">&lt;&lt;</span> <span class="s">&quot;Orbital speed = &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">obt_speed</span> <span class="o">&lt;&lt;</span> <span class="s">&quot; m/s, &quot;</span>
              <span class="o">&lt;&lt;</span> <span class="s">&quot;Surface speed = &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">srf_speed</span> <span class="o">&lt;&lt;</span> <span class="s">&quot; m/s&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">this_thread</span><span class="o">::</span><span class="n">sleep_for</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">seconds</span><span class="p">(</span><span class="mi">1</span><span class="p">));</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-37 docutils container">
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">krpc.client.Connection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">krpc.client.RPCException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">krpc.client.services.SpaceCenter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">krpc.client.services.SpaceCenter.ReferenceFrame</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">krpc.client.services.SpaceCenter.Vessel</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.javatuples.Triplet</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">VesselSpeed</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span>
        <span class="kd">throws</span> <span class="n">IOException</span><span class="o">,</span> <span class="n">RPCException</span><span class="o">,</span> <span class="n">InterruptedException</span> <span class="o">{</span>
        <span class="n">Connection</span> <span class="n">connection</span> <span class="o">=</span> <span class="n">Connection</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="s">&quot;Vessel speed&quot;</span><span class="o">);</span>
        <span class="n">SpaceCenter</span> <span class="n">spaceCenter</span> <span class="o">=</span> <span class="n">SpaceCenter</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="n">connection</span><span class="o">);</span>
        <span class="n">Vessel</span> <span class="n">vessel</span> <span class="o">=</span> <span class="n">spaceCenter</span><span class="o">.</span><span class="na">getActiveVessel</span><span class="o">();</span>
        <span class="n">ReferenceFrame</span> <span class="n">obtFrame</span> <span class="o">=</span> <span class="n">vessel</span><span class="o">.</span><span class="na">getOrbit</span><span class="o">().</span><span class="na">getBody</span><span class="o">().</span><span class="na">getNonRotatingReferenceFrame</span><span class="o">();</span>
        <span class="n">ReferenceFrame</span> <span class="n">srfFrame</span> <span class="o">=</span> <span class="n">vessel</span><span class="o">.</span><span class="na">getOrbit</span><span class="o">().</span><span class="na">getBody</span><span class="o">().</span><span class="na">getReferenceFrame</span><span class="o">();</span>
        <span class="k">while</span> <span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
            <span class="kt">double</span> <span class="n">obtSpeed</span> <span class="o">=</span> <span class="n">vessel</span><span class="o">.</span><span class="na">flight</span><span class="o">(</span><span class="n">obtFrame</span><span class="o">).</span><span class="na">getSpeed</span><span class="o">();</span>
            <span class="kt">double</span> <span class="n">srfSpeed</span> <span class="o">=</span> <span class="n">vessel</span><span class="o">.</span><span class="na">flight</span><span class="o">(</span><span class="n">srfFrame</span><span class="o">).</span><span class="na">getSpeed</span><span class="o">();</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span>
              <span class="s">&quot;Orbital speed = %.1f m/s, Surface speed = %.1f m/s\n&quot;</span><span class="o">,</span>
              <span class="n">obtSpeed</span><span class="o">,</span> <span class="n">srfSpeed</span><span class="o">);</span>
            <span class="n">Thread</span><span class="o">.</span><span class="na">sleep</span><span class="o">(</span><span class="mi">1000</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-38 docutils container">
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="kd">local</span> <span class="n">krpc</span> <span class="o">=</span> <span class="nb">require</span> <span class="s1">&#39;krpc&#39;</span>
<span class="kd">local</span> <span class="n">platform</span> <span class="o">=</span> <span class="nb">require</span> <span class="s1">&#39;krpc.platform&#39;</span>
<span class="kd">local</span> <span class="n">conn</span> <span class="o">=</span> <span class="n">krpc</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;Vessel speed&#39;</span><span class="p">)</span>
<span class="kd">local</span> <span class="n">vessel</span> <span class="o">=</span> <span class="n">conn</span><span class="p">.</span><span class="n">space_center</span><span class="p">.</span><span class="n">active_vessel</span>
<span class="kd">local</span> <span class="n">obt_frame</span> <span class="o">=</span> <span class="n">vessel</span><span class="p">.</span><span class="n">orbit</span><span class="p">.</span><span class="n">body</span><span class="p">.</span><span class="n">non_rotating_reference_frame</span>
<span class="kd">local</span> <span class="n">srf_frame</span> <span class="o">=</span> <span class="n">vessel</span><span class="p">.</span><span class="n">orbit</span><span class="p">.</span><span class="n">body</span><span class="p">.</span><span class="n">reference_frame</span>

<span class="kr">while</span> <span class="kc">true</span> <span class="kr">do</span>
    <span class="n">obt_speed</span> <span class="o">=</span> <span class="n">vessel</span><span class="p">:</span><span class="n">flight</span><span class="p">(</span><span class="n">obt_frame</span><span class="p">).</span><span class="n">speed</span>
    <span class="n">srf_speed</span> <span class="o">=</span> <span class="n">vessel</span><span class="p">:</span><span class="n">flight</span><span class="p">(</span><span class="n">srf_frame</span><span class="p">).</span><span class="n">speed</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">string.format</span><span class="p">(</span>
      <span class="s1">&#39;Orbital speed = %.1f m/s, Surface speed = %.1f m/s&#39;</span><span class="p">,</span>
      <span class="n">obt_speed</span><span class="p">,</span> <span class="n">srf_speed</span><span class="p">))</span>
    <span class="n">platform</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="kr">end</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-39 docutils container">
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">krpc</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">krpc</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Vessel speed&#39;</span><span class="p">)</span>
<span class="n">vessel</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">space_center</span><span class="o">.</span><span class="n">active_vessel</span>
<span class="n">obt_frame</span> <span class="o">=</span> <span class="n">vessel</span><span class="o">.</span><span class="n">orbit</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">non_rotating_reference_frame</span>
<span class="n">srf_frame</span> <span class="o">=</span> <span class="n">vessel</span><span class="o">.</span><span class="n">orbit</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">reference_frame</span>

<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">obt_speed</span> <span class="o">=</span> <span class="n">vessel</span><span class="o">.</span><span class="n">flight</span><span class="p">(</span><span class="n">obt_frame</span><span class="p">)</span><span class="o">.</span><span class="n">speed</span>
    <span class="n">srf_speed</span> <span class="o">=</span> <span class="n">vessel</span><span class="o">.</span><span class="n">flight</span><span class="p">(</span><span class="n">srf_frame</span><span class="p">)</span><span class="o">.</span><span class="n">speed</span>
    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Orbital speed = </span><span class="si">%.1f</span><span class="s1"> m/s, Surface speed = </span><span class="si">%.1f</span><span class="s1"> m/s&#39;</span> <span class="o">%</span>
          <span class="p">(</span><span class="n">obt_speed</span><span class="p">,</span> <span class="n">srf_speed</span><span class="p">))</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="vessel-velocity">
<span id="tutorial-reference-frames-vessel-velocity"></span><h3><a class="toc-backref" href="#id19">Vessel Velocity</a><a class="headerlink" href="#vessel-velocity" title="Permalink to this headline">¶</a></h3>
<p>This example demonstrates how to get the velocity of the vessel (as a vector),
relative to the surface of the body being orbited.</p>
<p>To do this, a hybrid reference frame is required. This is because we want a
reference frame that is centered on the vessel, but whose linear velocity is
fixed relative to the ground.</p>
<p>We therefore create a hybrid reference frame with its rotation set to the
vessel’s surface reference frame (<a class="reference internal" href="../python/api/space-center/vessel.html#SpaceCenter.Vessel.surface_reference_frame" title="SpaceCenter.Vessel.surface_reference_frame"><code class="xref py py-attr docutils literal"><span class="pre">Vessel.surface_reference_frame</span></code></a>), and
all other properties (including position and velocity) set to the body’s
reference frame (<a class="reference internal" href="../python/api/space-center/celestial-body.html#SpaceCenter.CelestialBody.reference_frame" title="SpaceCenter.CelestialBody.reference_frame"><code class="xref py py-attr docutils literal"><span class="pre">CelestialBody.reference_frame</span></code></a>) – which rotates with
the body.</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-40 docutils container">
<div class="docutils container">
C#</div>
</div>
<div class="item sphinx-data-tab-41 docutils container">
<div class="docutils container">
C++</div>
</div>
<div class="item sphinx-data-tab-42 docutils container">
<div class="docutils container">
Java</div>
</div>
<div class="item sphinx-data-tab-43 docutils container">
<div class="docutils container">
Lua</div>
</div>
<div class="item sphinx-data-tab-44 docutils container">
<div class="docutils container">
Python</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-40 active docutils container">
<div class="highlight-csharp"><div class="highlight"><pre><span></span><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">KRPC.Client</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">KRPC.Client.Services.SpaceCenter</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">VesselVelocity</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span> <span class="p">()</span>
    <span class="p">{</span>
        <span class="kt">var</span> <span class="n">connection</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Connection</span> <span class="p">(</span><span class="n">name</span> <span class="p">:</span> <span class="s">&quot;Vessel velocity&quot;</span><span class="p">);</span>
        <span class="kt">var</span> <span class="n">vessel</span> <span class="p">=</span> <span class="n">connection</span><span class="p">.</span><span class="n">SpaceCenter</span> <span class="p">().</span><span class="n">ActiveVessel</span><span class="p">;</span>
        <span class="kt">var</span> <span class="n">refFrame</span> <span class="p">=</span> <span class="n">ReferenceFrame</span><span class="p">.</span><span class="n">CreateHybrid</span><span class="p">(</span>
          <span class="n">connection</span><span class="p">,</span>
          <span class="n">vessel</span><span class="p">.</span><span class="n">Orbit</span><span class="p">.</span><span class="n">Body</span><span class="p">.</span><span class="n">ReferenceFrame</span><span class="p">,</span>
          <span class="n">vessel</span><span class="p">.</span><span class="n">SurfaceReferenceFrame</span><span class="p">);</span>

        <span class="k">while</span> <span class="p">(</span><span class="k">true</span><span class="p">)</span> <span class="p">{</span>
            <span class="kt">var</span> <span class="n">velocity</span> <span class="p">=</span> <span class="n">vessel</span><span class="p">.</span><span class="n">Flight</span> <span class="p">(</span><span class="n">refFrame</span><span class="p">).</span><span class="n">Velocity</span><span class="p">;</span>
            <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span> <span class="p">(</span><span class="s">&quot;Surface velocity = ({0:F1}, {1:F1}, {2:F1})&quot;</span><span class="p">,</span>
                               <span class="n">velocity</span><span class="p">.</span><span class="n">Item1</span><span class="p">,</span> <span class="n">velocity</span><span class="p">.</span><span class="n">Item2</span><span class="p">,</span> <span class="n">velocity</span><span class="p">.</span><span class="n">Item3</span><span class="p">);</span>
            <span class="n">System</span><span class="p">.</span><span class="n">Threading</span><span class="p">.</span><span class="n">Thread</span><span class="p">.</span><span class="n">Sleep</span> <span class="p">(</span><span class="m">1000</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-41 docutils container">
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;iomanip&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;thread&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;krpc.hpp&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;krpc/services/space_center.hpp&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">krpc</span><span class="o">::</span><span class="n">Client</span> <span class="n">connection</span> <span class="o">=</span> <span class="n">krpc</span><span class="o">::</span><span class="n">connect</span><span class="p">(</span><span class="s">&quot;Vessel velocity&quot;</span><span class="p">);</span>
  <span class="n">krpc</span><span class="o">::</span><span class="n">services</span><span class="o">::</span><span class="n">SpaceCenter</span> <span class="n">spaceCenter</span><span class="p">(</span><span class="o">&amp;</span><span class="n">connection</span><span class="p">);</span>
  <span class="k">auto</span> <span class="n">vessel</span> <span class="o">=</span> <span class="n">spaceCenter</span><span class="p">.</span><span class="n">active_vessel</span><span class="p">();</span>
  <span class="k">auto</span> <span class="n">ref_frame</span> <span class="o">=</span> <span class="n">krpc</span><span class="o">::</span><span class="n">services</span><span class="o">::</span><span class="n">SpaceCenter</span><span class="o">::</span><span class="n">ReferenceFrame</span><span class="o">::</span><span class="n">create_hybrid</span><span class="p">(</span>
    <span class="n">connection</span><span class="p">,</span>
    <span class="n">vessel</span><span class="p">.</span><span class="n">orbit</span><span class="p">().</span><span class="n">body</span><span class="p">().</span><span class="n">reference_frame</span><span class="p">(),</span>
    <span class="n">vessel</span><span class="p">.</span><span class="n">surface_reference_frame</span><span class="p">()</span>
  <span class="p">);</span>

  <span class="k">while</span> <span class="p">(</span><span class="nb">true</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">auto</span> <span class="n">velocity</span> <span class="o">=</span> <span class="n">vessel</span><span class="p">.</span><span class="n">flight</span><span class="p">(</span><span class="n">ref_frame</span><span class="p">).</span><span class="n">velocity</span><span class="p">();</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span>
      <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">fixed</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">setprecision</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
      <span class="o">&lt;&lt;</span> <span class="s">&quot;Surface velocity = (&quot;</span>
      <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">get</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">&gt;</span><span class="p">(</span><span class="n">velocity</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;,&quot;</span>
      <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">get</span><span class="o">&lt;</span><span class="mi">1</span><span class="o">&gt;</span><span class="p">(</span><span class="n">velocity</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;,&quot;</span>
      <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">get</span><span class="o">&lt;</span><span class="mi">2</span><span class="o">&gt;</span><span class="p">(</span><span class="n">velocity</span><span class="p">)</span>
      <span class="o">&lt;&lt;</span> <span class="s">&quot;)&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">this_thread</span><span class="o">::</span><span class="n">sleep_for</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">seconds</span><span class="p">(</span><span class="mi">1</span><span class="p">));</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-42 docutils container">
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">krpc.client.Connection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">krpc.client.RPCException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">krpc.client.services.SpaceCenter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">krpc.client.services.SpaceCenter.ReferenceFrame</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">krpc.client.services.SpaceCenter.Vessel</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.javatuples.Triplet</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">VesselVelocity</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span>
        <span class="kd">throws</span> <span class="n">IOException</span><span class="o">,</span> <span class="n">RPCException</span><span class="o">,</span> <span class="n">InterruptedException</span> <span class="o">{</span>
      <span class="n">Connection</span> <span class="n">connection</span> <span class="o">=</span> <span class="n">Connection</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="s">&quot;Vessel velocity&quot;</span><span class="o">);</span>
        <span class="n">SpaceCenter</span> <span class="n">spaceCenter</span> <span class="o">=</span> <span class="n">SpaceCenter</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="n">connection</span><span class="o">);</span>
        <span class="n">Vessel</span> <span class="n">vessel</span> <span class="o">=</span> <span class="n">spaceCenter</span><span class="o">.</span><span class="na">getActiveVessel</span><span class="o">();</span>
        <span class="n">ReferenceFrame</span> <span class="n">refFrame</span> <span class="o">=</span> <span class="n">ReferenceFrame</span><span class="o">.</span><span class="na">createHybrid</span><span class="o">(</span>
          <span class="n">connection</span><span class="o">,</span>
          <span class="n">vessel</span><span class="o">.</span><span class="na">getOrbit</span><span class="o">().</span><span class="na">getBody</span><span class="o">().</span><span class="na">getReferenceFrame</span><span class="o">(),</span>
          <span class="n">vessel</span><span class="o">.</span><span class="na">getSurfaceReferenceFrame</span><span class="o">(),</span>
          <span class="n">vessel</span><span class="o">.</span><span class="na">getOrbit</span><span class="o">().</span><span class="na">getBody</span><span class="o">().</span><span class="na">getReferenceFrame</span><span class="o">(),</span>
          <span class="n">vessel</span><span class="o">.</span><span class="na">getOrbit</span><span class="o">().</span><span class="na">getBody</span><span class="o">().</span><span class="na">getReferenceFrame</span><span class="o">());</span>
        <span class="k">while</span> <span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">Triplet</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">,</span><span class="n">Double</span><span class="o">,</span><span class="n">Double</span><span class="o">&gt;</span> <span class="n">velocity</span> <span class="o">=</span>
                <span class="n">vessel</span><span class="o">.</span><span class="na">flight</span><span class="o">(</span><span class="n">refFrame</span><span class="o">).</span><span class="na">getVelocity</span><span class="o">();</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">&quot;Surface velocity = (%.1f, %.1f, %.1f)\n&quot;</span><span class="o">,</span>
                              <span class="n">velocity</span><span class="o">.</span><span class="na">getValue0</span><span class="o">(),</span>
                              <span class="n">velocity</span><span class="o">.</span><span class="na">getValue1</span><span class="o">(),</span>
                              <span class="n">velocity</span><span class="o">.</span><span class="na">getValue2</span><span class="o">());</span>
            <span class="n">Thread</span><span class="o">.</span><span class="na">sleep</span><span class="o">(</span><span class="mi">1000</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-43 docutils container">
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="kd">local</span> <span class="n">krpc</span> <span class="o">=</span> <span class="nb">require</span> <span class="s1">&#39;krpc&#39;</span>
<span class="kd">local</span> <span class="n">platform</span> <span class="o">=</span> <span class="nb">require</span> <span class="s1">&#39;krpc.platform&#39;</span>
<span class="kd">local</span> <span class="n">conn</span> <span class="o">=</span> <span class="n">krpc</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;Orbital speed&#39;</span><span class="p">)</span>
<span class="kd">local</span> <span class="n">vessel</span> <span class="o">=</span> <span class="n">conn</span><span class="p">.</span><span class="n">space_center</span><span class="p">.</span><span class="n">active_vessel</span>
<span class="kd">local</span> <span class="n">ref_frame</span> <span class="o">=</span> <span class="n">conn</span><span class="p">.</span><span class="n">SpaceCenter</span><span class="p">.</span><span class="n">ReferenceFrame</span><span class="p">.</span><span class="n">CreateHybrid</span><span class="p">(</span>
  <span class="n">vessel</span><span class="p">.</span><span class="n">orbit</span><span class="p">.</span><span class="n">body</span><span class="p">.</span><span class="n">reference_frame</span><span class="p">,</span>
  <span class="n">vessel</span><span class="p">.</span><span class="n">surface_reference_frame</span><span class="p">)</span>

<span class="kr">while</span> <span class="kc">true</span> <span class="kr">do</span>
    <span class="n">velocity</span> <span class="o">=</span> <span class="n">vessel</span><span class="p">:</span><span class="n">flight</span><span class="p">(</span><span class="n">ref_frame</span><span class="p">).</span><span class="n">velocity</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">string.format</span><span class="p">(</span><span class="s1">&#39;Surface velocity = (%.1f, %.1f, %.1f)&#39;</span><span class="p">,</span>
                        <span class="n">velocity</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">velocity</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">velocity</span><span class="p">[</span><span class="mi">3</span><span class="p">]))</span>
    <span class="n">platform</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="kr">end</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-44 docutils container">
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">krpc</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">krpc</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Orbital speed&#39;</span><span class="p">)</span>
<span class="n">vessel</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">space_center</span><span class="o">.</span><span class="n">active_vessel</span>
<span class="n">ref_frame</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">space_center</span><span class="o">.</span><span class="n">ReferenceFrame</span><span class="o">.</span><span class="n">create_hybrid</span><span class="p">(</span>
    <span class="n">position</span><span class="o">=</span><span class="n">vessel</span><span class="o">.</span><span class="n">orbit</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">reference_frame</span><span class="p">,</span>
    <span class="n">rotation</span><span class="o">=</span><span class="n">vessel</span><span class="o">.</span><span class="n">surface_reference_frame</span><span class="p">)</span>

<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">velocity</span> <span class="o">=</span> <span class="n">vessel</span><span class="o">.</span><span class="n">flight</span><span class="p">(</span><span class="n">ref_frame</span><span class="p">)</span><span class="o">.</span><span class="n">velocity</span>
    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Surface velocity = (</span><span class="si">%.1f</span><span class="s1">, </span><span class="si">%.1f</span><span class="s1">, </span><span class="si">%.1f</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="n">velocity</span><span class="p">)</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="angle-of-attack">
<h3><a class="toc-backref" href="#id20">Angle of attack</a><a class="headerlink" href="#angle-of-attack" title="Permalink to this headline">¶</a></h3>
<p>This example computes the angle between the direction the vessel is pointing in,
and the direction that the vessel is moving in (relative to the surface):</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-45 docutils container">
<div class="docutils container">
C#</div>
</div>
<div class="item sphinx-data-tab-46 docutils container">
<div class="docutils container">
C++</div>
</div>
<div class="item sphinx-data-tab-47 docutils container">
<div class="docutils container">
Java</div>
</div>
<div class="item sphinx-data-tab-48 docutils container">
<div class="docutils container">
Lua</div>
</div>
<div class="item sphinx-data-tab-49 docutils container">
<div class="docutils container">
Python</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-45 active docutils container">
<div class="highlight-csharp"><div class="highlight"><pre><span></span><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">KRPC.Client</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">KRPC.Client.Services.SpaceCenter</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">AngleOfAttack</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span> <span class="p">()</span>
    <span class="p">{</span>
        <span class="kt">var</span> <span class="n">conn</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Connection</span> <span class="p">(</span><span class="s">&quot;Angle of attack&quot;</span><span class="p">);</span>
        <span class="kt">var</span> <span class="n">vessel</span> <span class="p">=</span> <span class="n">conn</span><span class="p">.</span><span class="n">SpaceCenter</span> <span class="p">().</span><span class="n">ActiveVessel</span><span class="p">;</span>

        <span class="k">while</span> <span class="p">(</span><span class="k">true</span><span class="p">)</span> <span class="p">{</span>
            <span class="kt">var</span> <span class="n">d</span> <span class="p">=</span> <span class="n">vessel</span><span class="p">.</span><span class="n">Direction</span> <span class="p">(</span><span class="n">vessel</span><span class="p">.</span><span class="n">Orbit</span><span class="p">.</span><span class="n">Body</span><span class="p">.</span><span class="n">ReferenceFrame</span><span class="p">);</span>
            <span class="kt">var</span> <span class="n">v</span> <span class="p">=</span> <span class="n">vessel</span><span class="p">.</span><span class="n">Velocity</span> <span class="p">(</span><span class="n">vessel</span><span class="p">.</span><span class="n">Orbit</span><span class="p">.</span><span class="n">Body</span><span class="p">.</span><span class="n">ReferenceFrame</span><span class="p">);</span>

            <span class="c1">// Compute the dot product of d and v</span>
            <span class="kt">var</span> <span class="n">dotProd</span> <span class="p">=</span> <span class="n">d</span><span class="p">.</span><span class="n">Item1</span> <span class="p">*</span> <span class="n">v</span><span class="p">.</span><span class="n">Item1</span> <span class="p">+</span> <span class="n">d</span><span class="p">.</span><span class="n">Item2</span> <span class="p">*</span> <span class="n">v</span><span class="p">.</span><span class="n">Item2</span> <span class="p">+</span> <span class="n">d</span><span class="p">.</span><span class="n">Item3</span> <span class="p">*</span> <span class="n">v</span><span class="p">.</span><span class="n">Item3</span><span class="p">;</span>

            <span class="c1">// Compute the magnitude of v</span>
            <span class="kt">var</span> <span class="n">vMag</span> <span class="p">=</span> <span class="n">Math</span><span class="p">.</span><span class="n">Sqrt</span> <span class="p">(</span>
                <span class="n">v</span><span class="p">.</span><span class="n">Item1</span> <span class="p">*</span> <span class="n">v</span><span class="p">.</span><span class="n">Item1</span> <span class="p">+</span> <span class="n">v</span><span class="p">.</span><span class="n">Item2</span> <span class="p">*</span> <span class="n">v</span><span class="p">.</span><span class="n">Item2</span> <span class="p">+</span> <span class="n">v</span><span class="p">.</span><span class="n">Item3</span> <span class="p">*</span> <span class="n">v</span><span class="p">.</span><span class="n">Item3</span><span class="p">);</span>
            <span class="c1">// Note: don&#39;t need to magnitude of d as it is a unit vector</span>

            <span class="c1">// Compute the angle between the vectors</span>
            <span class="kt">double</span> <span class="n">angle</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">dotProd</span> <span class="p">&gt;</span> <span class="m">0</span><span class="p">)</span>
                <span class="n">angle</span> <span class="p">=</span> <span class="n">Math</span><span class="p">.</span><span class="n">Abs</span> <span class="p">(</span><span class="n">Math</span><span class="p">.</span><span class="n">Acos</span> <span class="p">(</span><span class="n">dotProd</span> <span class="p">/</span> <span class="n">vMag</span><span class="p">)</span> <span class="p">*</span> <span class="p">(</span><span class="m">180.0</span> <span class="p">/</span> <span class="n">Math</span><span class="p">.</span><span class="n">PI</span><span class="p">));</span>

            <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span> <span class="p">(</span>
                <span class="s">&quot;Angle of attack = &quot;</span> <span class="p">+</span> <span class="n">Math</span><span class="p">.</span><span class="n">Round</span> <span class="p">(</span><span class="n">angle</span><span class="p">,</span> <span class="m">2</span><span class="p">)</span> <span class="p">+</span> <span class="s">&quot; degrees&quot;</span><span class="p">);</span>

            <span class="n">System</span><span class="p">.</span><span class="n">Threading</span><span class="p">.</span><span class="n">Thread</span><span class="p">.</span><span class="n">Sleep</span> <span class="p">(</span><span class="m">1000</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-46 docutils container">
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;iomanip&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;cmath&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;chrono&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;thread&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;krpc.hpp&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;krpc/services/space_center.hpp&gt;</span><span class="cp"></span>

<span class="k">static</span> <span class="k">const</span> <span class="kt">double</span> <span class="n">pi</span> <span class="o">=</span> <span class="mf">3.1415926535897</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">krpc</span><span class="o">::</span><span class="n">Client</span> <span class="n">conn</span> <span class="o">=</span> <span class="n">krpc</span><span class="o">::</span><span class="n">connect</span><span class="p">(</span><span class="s">&quot;Angle of attack&quot;</span><span class="p">);</span>
  <span class="n">krpc</span><span class="o">::</span><span class="n">services</span><span class="o">::</span><span class="n">SpaceCenter</span> <span class="n">space_center</span><span class="p">(</span><span class="o">&amp;</span><span class="n">conn</span><span class="p">);</span>
  <span class="k">auto</span> <span class="n">vessel</span> <span class="o">=</span> <span class="n">space_center</span><span class="p">.</span><span class="n">active_vessel</span><span class="p">();</span>

  <span class="k">while</span> <span class="p">(</span><span class="nb">true</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">auto</span> <span class="n">d</span> <span class="o">=</span> <span class="n">vessel</span><span class="p">.</span><span class="n">direction</span><span class="p">(</span><span class="n">vessel</span><span class="p">.</span><span class="n">orbit</span><span class="p">().</span><span class="n">body</span><span class="p">().</span><span class="n">reference_frame</span><span class="p">());</span>
    <span class="k">auto</span> <span class="n">v</span> <span class="o">=</span> <span class="n">vessel</span><span class="p">.</span><span class="n">velocity</span><span class="p">(</span><span class="n">vessel</span><span class="p">.</span><span class="n">orbit</span><span class="p">().</span><span class="n">body</span><span class="p">().</span><span class="n">reference_frame</span><span class="p">());</span>

    <span class="c1">// Compute the dot product of d and v</span>
    <span class="kt">double</span> <span class="n">dotProd</span> <span class="o">=</span>
      <span class="n">std</span><span class="o">::</span><span class="n">get</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">&gt;</span><span class="p">(</span><span class="n">d</span><span class="p">)</span><span class="o">*</span><span class="n">std</span><span class="o">::</span><span class="n">get</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">&gt;</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="o">+</span>
      <span class="n">std</span><span class="o">::</span><span class="n">get</span><span class="o">&lt;</span><span class="mi">1</span><span class="o">&gt;</span><span class="p">(</span><span class="n">d</span><span class="p">)</span><span class="o">*</span><span class="n">std</span><span class="o">::</span><span class="n">get</span><span class="o">&lt;</span><span class="mi">1</span><span class="o">&gt;</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="o">+</span>
      <span class="n">std</span><span class="o">::</span><span class="n">get</span><span class="o">&lt;</span><span class="mi">2</span><span class="o">&gt;</span><span class="p">(</span><span class="n">d</span><span class="p">)</span><span class="o">*</span><span class="n">std</span><span class="o">::</span><span class="n">get</span><span class="o">&lt;</span><span class="mi">2</span><span class="o">&gt;</span><span class="p">(</span><span class="n">v</span><span class="p">);</span>

    <span class="c1">// Compute the magnitude of v</span>
    <span class="kt">double</span> <span class="n">vMag</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span>
      <span class="n">std</span><span class="o">::</span><span class="n">get</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">&gt;</span><span class="p">(</span><span class="n">v</span><span class="p">)</span><span class="o">*</span><span class="n">std</span><span class="o">::</span><span class="n">get</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">&gt;</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="o">+</span>
      <span class="n">std</span><span class="o">::</span><span class="n">get</span><span class="o">&lt;</span><span class="mi">1</span><span class="o">&gt;</span><span class="p">(</span><span class="n">v</span><span class="p">)</span><span class="o">*</span><span class="n">std</span><span class="o">::</span><span class="n">get</span><span class="o">&lt;</span><span class="mi">1</span><span class="o">&gt;</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="o">+</span>
      <span class="n">std</span><span class="o">::</span><span class="n">get</span><span class="o">&lt;</span><span class="mi">2</span><span class="o">&gt;</span><span class="p">(</span><span class="n">v</span><span class="p">)</span><span class="o">*</span><span class="n">std</span><span class="o">::</span><span class="n">get</span><span class="o">&lt;</span><span class="mi">2</span><span class="o">&gt;</span><span class="p">(</span><span class="n">v</span><span class="p">));</span>
    <span class="c1">// Note: don&#39;t need to magnitude of d as it is a unit vector</span>

    <span class="c1">// Compute the angle between the vectors</span>
    <span class="kt">double</span> <span class="n">angle</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">dotProd</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
      <span class="n">angle</span> <span class="o">=</span> <span class="n">fabs</span><span class="p">(</span><span class="n">acos</span><span class="p">(</span><span class="n">dotProd</span> <span class="o">/</span> <span class="n">vMag</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mf">180.0</span> <span class="o">/</span> <span class="n">pi</span><span class="p">));</span>

    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Angle of attack = &quot;</span>
              <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">fixed</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">setprecision</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
              <span class="o">&lt;&lt;</span> <span class="n">angle</span> <span class="o">&lt;&lt;</span> <span class="s">&quot; degrees&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>

    <span class="n">std</span><span class="o">::</span><span class="n">this_thread</span><span class="o">::</span><span class="n">sleep_for</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">seconds</span><span class="p">(</span><span class="mi">1</span><span class="p">));</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-47 docutils container">
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">krpc.client.Connection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">krpc.client.RPCException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">krpc.client.services.SpaceCenter</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.javatuples.Triplet</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.lang.Math</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">AngleOfAttack</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span>
        <span class="kd">throws</span> <span class="n">IOException</span><span class="o">,</span> <span class="n">RPCException</span><span class="o">,</span> <span class="n">InterruptedException</span> <span class="o">{</span>
        <span class="n">Connection</span> <span class="n">connection</span> <span class="o">=</span> <span class="n">Connection</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="s">&quot;Angle of attack&quot;</span><span class="o">);</span>
        <span class="n">SpaceCenter</span> <span class="n">spaceCenter</span> <span class="o">=</span> <span class="n">SpaceCenter</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="n">connection</span><span class="o">);</span>
        <span class="n">SpaceCenter</span><span class="o">.</span><span class="na">Vessel</span> <span class="n">vessel</span> <span class="o">=</span> <span class="n">spaceCenter</span><span class="o">.</span><span class="na">getActiveVessel</span><span class="o">();</span>

        <span class="k">while</span> <span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">Triplet</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">,</span><span class="n">Double</span><span class="o">,</span><span class="n">Double</span><span class="o">&gt;</span> <span class="n">d</span> <span class="o">=</span>
                <span class="n">vessel</span><span class="o">.</span><span class="na">direction</span><span class="o">(</span><span class="n">vessel</span><span class="o">.</span><span class="na">getOrbit</span><span class="o">().</span><span class="na">getBody</span><span class="o">().</span><span class="na">getReferenceFrame</span><span class="o">());</span>
            <span class="n">Triplet</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">,</span><span class="n">Double</span><span class="o">,</span><span class="n">Double</span><span class="o">&gt;</span> <span class="n">v</span> <span class="o">=</span>
                <span class="n">vessel</span><span class="o">.</span><span class="na">velocity</span><span class="o">(</span><span class="n">vessel</span><span class="o">.</span><span class="na">getOrbit</span><span class="o">().</span><span class="na">getBody</span><span class="o">().</span><span class="na">getReferenceFrame</span><span class="o">());</span>

            <span class="c1">// Compute the dot product of d and v</span>
            <span class="kt">double</span> <span class="n">dotProd</span> <span class="o">=</span>
                  <span class="n">d</span><span class="o">.</span><span class="na">getValue0</span><span class="o">()</span> <span class="o">*</span> <span class="n">v</span><span class="o">.</span><span class="na">getValue0</span><span class="o">()</span>
                <span class="o">+</span> <span class="n">d</span><span class="o">.</span><span class="na">getValue1</span><span class="o">()</span> <span class="o">*</span> <span class="n">v</span><span class="o">.</span><span class="na">getValue1</span><span class="o">()</span>
                <span class="o">+</span> <span class="n">d</span><span class="o">.</span><span class="na">getValue2</span><span class="o">()</span> <span class="o">*</span> <span class="n">v</span><span class="o">.</span><span class="na">getValue2</span><span class="o">();</span>

            <span class="c1">// Compute the magnitude of v</span>
            <span class="kt">double</span> <span class="n">vMag</span> <span class="o">=</span> <span class="n">Math</span><span class="o">.</span><span class="na">sqrt</span><span class="o">(</span>
                  <span class="n">v</span><span class="o">.</span><span class="na">getValue0</span><span class="o">()</span> <span class="o">*</span> <span class="n">v</span><span class="o">.</span><span class="na">getValue0</span><span class="o">()</span>
                <span class="o">+</span> <span class="n">v</span><span class="o">.</span><span class="na">getValue1</span><span class="o">()</span> <span class="o">*</span> <span class="n">v</span><span class="o">.</span><span class="na">getValue1</span><span class="o">()</span>
                <span class="o">+</span> <span class="n">v</span><span class="o">.</span><span class="na">getValue2</span><span class="o">()</span> <span class="o">*</span> <span class="n">v</span><span class="o">.</span><span class="na">getValue2</span><span class="o">()</span>
            <span class="o">);</span>
            <span class="c1">// Note: don&#39;t need to magnitude of d as it is a unit vector</span>

            <span class="c1">// Compute the angle between the vectors</span>
            <span class="kt">double</span> <span class="n">angle</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">dotProd</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">angle</span> <span class="o">=</span> <span class="n">Math</span><span class="o">.</span><span class="na">abs</span><span class="o">(</span><span class="n">Math</span><span class="o">.</span><span class="na">acos</span><span class="o">(</span><span class="n">dotProd</span> <span class="o">/</span> <span class="n">vMag</span><span class="o">)</span> <span class="o">*</span> <span class="o">(</span><span class="mf">180.0</span> <span class="o">/</span> <span class="n">Math</span><span class="o">.</span><span class="na">PI</span><span class="o">));</span>
            <span class="o">}</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">&quot;Angle of attack = %.1f degrees\n&quot;</span><span class="o">,</span> <span class="n">angle</span><span class="o">);</span>

            <span class="n">Thread</span><span class="o">.</span><span class="na">sleep</span><span class="o">(</span><span class="mi">1000</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-48 docutils container">
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="kd">local</span> <span class="n">krpc</span> <span class="o">=</span> <span class="nb">require</span> <span class="s1">&#39;krpc&#39;</span>
<span class="kd">local</span> <span class="n">platform</span> <span class="o">=</span> <span class="nb">require</span> <span class="s1">&#39;krpc.platform&#39;</span>
<span class="kd">local</span> <span class="n">math</span> <span class="o">=</span> <span class="nb">require</span> <span class="s1">&#39;math&#39;</span>
<span class="kd">local</span> <span class="n">conn</span> <span class="o">=</span> <span class="n">krpc</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;Angle of attack&#39;</span><span class="p">)</span>
<span class="kd">local</span> <span class="n">vessel</span> <span class="o">=</span> <span class="n">conn</span><span class="p">.</span><span class="n">space_center</span><span class="p">.</span><span class="n">active_vessel</span>

<span class="kr">while</span> <span class="kc">true</span> <span class="kr">do</span>

   <span class="n">d</span> <span class="o">=</span> <span class="n">vessel</span><span class="p">:</span><span class="n">direction</span><span class="p">(</span><span class="n">vessel</span><span class="p">.</span><span class="n">orbit</span><span class="p">.</span><span class="n">body</span><span class="p">.</span><span class="n">reference_frame</span><span class="p">)</span>
    <span class="n">v</span> <span class="o">=</span> <span class="n">vessel</span><span class="p">:</span><span class="n">velocity</span><span class="p">(</span><span class="n">vessel</span><span class="p">.</span><span class="n">orbit</span><span class="p">.</span><span class="n">body</span><span class="p">.</span><span class="n">reference_frame</span><span class="p">)</span>

    <span class="c1">-- Compute the dot product of d and v</span>
    <span class="n">dotprod</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">d</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">*</span><span class="n">v</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">d</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">*</span><span class="n">v</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>

    <span class="c1">-- Compute the magnitude of v</span>
    <span class="n">vmag</span> <span class="o">=</span> <span class="nb">math.sqrt</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">v</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">*</span><span class="n">v</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">v</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">*</span><span class="n">v</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
    <span class="c1">-- Note: don&#39;t need to magnitude of d as it is a unit vector</span>

    <span class="c1">-- Compute the angle between the vectors</span>
    <span class="n">angle</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="kr">if</span> <span class="n">dotprod</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="kr">then</span>
        <span class="n">angle</span> <span class="o">=</span> <span class="nb">math.abs</span><span class="p">(</span><span class="nb">math.acos</span> <span class="p">(</span><span class="n">dotprod</span> <span class="o">/</span> <span class="n">vmag</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mf">180.</span> <span class="o">/</span> <span class="nb">math.pi</span><span class="p">))</span>
    <span class="kr">end</span>

    <span class="nb">print</span><span class="p">(</span><span class="nb">string.format</span><span class="p">(</span><span class="s1">&#39;Angle of attack = %.1f&#39;</span><span class="p">,</span> <span class="n">angle</span><span class="p">))</span>

    <span class="n">platform</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="kr">end</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-49 docutils container">
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">krpc</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">krpc</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Angle of attack&#39;</span><span class="p">)</span>
<span class="n">vessel</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">space_center</span><span class="o">.</span><span class="n">active_vessel</span>

<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>

    <span class="n">d</span> <span class="o">=</span> <span class="n">vessel</span><span class="o">.</span><span class="n">direction</span><span class="p">(</span><span class="n">vessel</span><span class="o">.</span><span class="n">orbit</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">reference_frame</span><span class="p">)</span>
    <span class="n">v</span> <span class="o">=</span> <span class="n">vessel</span><span class="o">.</span><span class="n">velocity</span><span class="p">(</span><span class="n">vessel</span><span class="o">.</span><span class="n">orbit</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">reference_frame</span><span class="p">)</span>

    <span class="c1"># Compute the dot product of d and v</span>
    <span class="n">dotprod</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">d</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">d</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">*</span><span class="n">v</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>

    <span class="c1"># Compute the magnitude of v</span>
    <span class="n">vmag</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">v</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
    <span class="c1"># Note: don&#39;t need to magnitude of d as it is a unit vector</span>

    <span class="c1"># Compute the angle between the vectors</span>
    <span class="n">angle</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">if</span> <span class="n">dotprod</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">angle</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">acos</span><span class="p">(</span><span class="n">dotprod</span> <span class="o">/</span> <span class="n">vmag</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mf">180.0</span> <span class="o">/</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="p">))</span>

    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Angle of attack = </span><span class="si">%.1f</span><span class="s1"> degrees&#39;</span> <span class="o">%</span> <span class="n">angle</span><span class="p">)</span>

    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Note that the orientation of the reference frame used to get the direction and
velocity vectors does not matter, as the angle between two vectors is the same
regardless of the orientation of the axes. However, if we were to use a
reference frame that moves with the vessel, the velocity would return
<code class="docutils literal"><span class="pre">(0,0,0)</span></code>. We therefore need a reference frame that is not fixed relative to
the vessel. <a class="reference internal" href="../python/api/space-center/celestial-body.html#SpaceCenter.CelestialBody.reference_frame" title="SpaceCenter.CelestialBody.reference_frame"><code class="xref py py-attr docutils literal"><span class="pre">CelestialBody.reference_frame</span></code></a> fits these requirements.</p>
</div>
<div class="section" id="landing-site">
<h3><a class="toc-backref" href="#id21">Landing Site</a><a class="headerlink" href="#landing-site" title="Permalink to this headline">¶</a></h3>
<p>This example computes a reference frame that is located on the surface of a body
at a given altitude, which could be used as the target for a landing auto pilot.</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-50 docutils container">
<div class="docutils container">
C#</div>
</div>
<div class="item sphinx-data-tab-51 docutils container">
<div class="docutils container">
C++</div>
</div>
<div class="item sphinx-data-tab-52 docutils container">
<div class="docutils container">
Java</div>
</div>
<div class="item sphinx-data-tab-53 docutils container">
<div class="docutils container">
Lua</div>
</div>
<div class="item sphinx-data-tab-54 docutils container">
<div class="docutils container">
Python</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-50 active docutils container">
<div class="highlight-csharp"><div class="highlight"><pre><span></span><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">KRPC.Client</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">KRPC.Client.Services.SpaceCenter</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">KRPC.Client.Services.Drawing</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">LandingSite</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span> <span class="p">()</span>
    <span class="p">{</span>
        <span class="kt">var</span> <span class="n">conn</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Connection</span> <span class="p">(</span><span class="s">&quot;Landing Site&quot;</span><span class="p">);</span>
        <span class="kt">var</span> <span class="n">vessel</span> <span class="p">=</span> <span class="n">conn</span><span class="p">.</span><span class="n">SpaceCenter</span> <span class="p">().</span><span class="n">ActiveVessel</span><span class="p">;</span>
        <span class="kt">var</span> <span class="n">body</span> <span class="p">=</span> <span class="n">vessel</span><span class="p">.</span><span class="n">Orbit</span><span class="p">.</span><span class="n">Body</span><span class="p">;</span>

        <span class="c1">// Define the landing site as the top of the VAB</span>
        <span class="kt">double</span> <span class="n">landingLatitude</span> <span class="p">=</span> <span class="p">-(</span><span class="m">0.0</span><span class="p">+(</span><span class="m">5.0</span><span class="p">/</span><span class="m">60.0</span><span class="p">)+(</span><span class="m">48.38</span><span class="p">/</span><span class="m">60.0</span><span class="p">/</span><span class="m">60.0</span><span class="p">));</span>
        <span class="kt">double</span> <span class="n">landingLongitude</span> <span class="p">=</span> <span class="p">-(</span><span class="m">74.0</span><span class="p">+(</span><span class="m">37.0</span><span class="p">/</span><span class="m">60.0</span><span class="p">)+(</span><span class="m">12.2</span><span class="p">/</span><span class="m">60.0</span><span class="p">/</span><span class="m">60.0</span><span class="p">));</span>
        <span class="kt">double</span> <span class="n">landingAltitude</span> <span class="p">=</span> <span class="m">111</span><span class="p">;</span>

        <span class="c1">// Determine landing site reference frame</span>
        <span class="c1">// (orientation: x=zenith, y=north, z=east)</span>
        <span class="kt">var</span> <span class="n">landingPosition</span> <span class="p">=</span> <span class="n">body</span><span class="p">.</span><span class="n">SurfacePosition</span><span class="p">(</span>
            <span class="n">landingLatitude</span><span class="p">,</span> <span class="n">landingLongitude</span><span class="p">,</span> <span class="n">body</span><span class="p">.</span><span class="n">ReferenceFrame</span><span class="p">);</span>
        <span class="kt">var</span> <span class="n">qLong</span> <span class="p">=</span> <span class="n">Tuple</span><span class="p">.</span><span class="n">Create</span><span class="p">(</span>
          <span class="m">0.0</span><span class="p">,</span>
          <span class="n">Math</span><span class="p">.</span><span class="n">Sin</span><span class="p">(-</span><span class="n">landingLongitude</span> <span class="p">*</span> <span class="m">0.5</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="n">PI</span> <span class="p">/</span> <span class="m">180.0</span><span class="p">),</span>
          <span class="m">0.0</span><span class="p">,</span>
          <span class="n">Math</span><span class="p">.</span><span class="n">Cos</span><span class="p">(-</span><span class="n">landingLongitude</span> <span class="p">*</span> <span class="m">0.5</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="n">PI</span> <span class="p">/</span> <span class="m">180.0</span><span class="p">)</span>
        <span class="p">);</span>
        <span class="kt">var</span> <span class="n">qLat</span> <span class="p">=</span> <span class="n">Tuple</span><span class="p">.</span><span class="n">Create</span><span class="p">(</span>
          <span class="m">0.0</span><span class="p">,</span>
          <span class="m">0.0</span><span class="p">,</span>
          <span class="n">Math</span><span class="p">.</span><span class="n">Sin</span><span class="p">(</span><span class="n">landingLatitude</span> <span class="p">*</span> <span class="m">0.5</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="n">PI</span> <span class="p">/</span> <span class="m">180.0</span><span class="p">),</span>
          <span class="n">Math</span><span class="p">.</span><span class="n">Cos</span><span class="p">(</span><span class="n">landingLatitude</span> <span class="p">*</span> <span class="m">0.5</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="n">PI</span> <span class="p">/</span> <span class="m">180.0</span><span class="p">)</span>
        <span class="p">);</span>
        <span class="kt">var</span> <span class="n">landingReferenceFrame</span> <span class="p">=</span>
          <span class="n">ReferenceFrame</span><span class="p">.</span><span class="n">CreateRelative</span><span class="p">(</span>
            <span class="n">conn</span><span class="p">,</span>
            <span class="n">ReferenceFrame</span><span class="p">.</span><span class="n">CreateRelative</span><span class="p">(</span>
              <span class="n">conn</span><span class="p">,</span>
              <span class="n">ReferenceFrame</span><span class="p">.</span><span class="n">CreateRelative</span><span class="p">(</span>
                <span class="n">conn</span><span class="p">,</span>
                <span class="n">body</span><span class="p">.</span><span class="n">ReferenceFrame</span><span class="p">,</span>
                <span class="n">landingPosition</span><span class="p">,</span>
                <span class="n">qLong</span><span class="p">),</span>
              <span class="n">Tuple</span><span class="p">.</span><span class="n">Create</span><span class="p">(</span><span class="m">0.0</span><span class="p">,</span> <span class="m">0.0</span><span class="p">,</span> <span class="m">0.0</span><span class="p">),</span>
              <span class="n">qLat</span><span class="p">),</span>
            <span class="n">Tuple</span><span class="p">.</span><span class="n">Create</span><span class="p">(</span><span class="n">landingAltitude</span><span class="p">,</span> <span class="m">0.0</span><span class="p">,</span> <span class="m">0.0</span><span class="p">));</span>

        <span class="c1">// Draw axes</span>
        <span class="kt">var</span> <span class="n">zero</span> <span class="p">=</span> <span class="n">Tuple</span><span class="p">.</span><span class="n">Create</span><span class="p">(</span><span class="m">0.0</span><span class="p">,</span> <span class="m">0.0</span><span class="p">,</span> <span class="m">0.0</span><span class="p">);</span>
        <span class="n">conn</span><span class="p">.</span><span class="n">Drawing</span><span class="p">().</span><span class="n">AddLine</span><span class="p">(</span>
            <span class="n">zero</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">.</span><span class="n">Create</span><span class="p">(</span><span class="m">1.0</span><span class="p">,</span> <span class="m">0.0</span><span class="p">,</span> <span class="m">0.0</span><span class="p">),</span> <span class="n">landingReferenceFrame</span><span class="p">);</span>
        <span class="n">conn</span><span class="p">.</span><span class="n">Drawing</span><span class="p">().</span><span class="n">AddLine</span><span class="p">(</span>
            <span class="n">zero</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">.</span><span class="n">Create</span><span class="p">(</span><span class="m">0.0</span><span class="p">,</span> <span class="m">1.0</span><span class="p">,</span> <span class="m">0.0</span><span class="p">),</span> <span class="n">landingReferenceFrame</span><span class="p">);</span>
        <span class="n">conn</span><span class="p">.</span><span class="n">Drawing</span><span class="p">().</span><span class="n">AddLine</span><span class="p">(</span>
            <span class="n">zero</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">.</span><span class="n">Create</span><span class="p">(</span><span class="m">0.0</span><span class="p">,</span> <span class="m">0.0</span><span class="p">,</span> <span class="m">1.0</span><span class="p">),</span> <span class="n">landingReferenceFrame</span><span class="p">);</span>

        <span class="k">while</span> <span class="p">(</span><span class="k">true</span><span class="p">)</span>
          <span class="n">System</span><span class="p">.</span><span class="n">Threading</span><span class="p">.</span><span class="n">Thread</span><span class="p">.</span><span class="n">Sleep</span> <span class="p">(</span><span class="m">1000</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-51 docutils container">
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;iomanip&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;cmath&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;chrono&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;thread&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;krpc.hpp&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;krpc/services/space_center.hpp&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;krpc/services/ui.hpp&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;krpc/services/drawing.hpp&gt;</span><span class="cp"></span>

<span class="k">static</span> <span class="k">const</span> <span class="kt">double</span> <span class="n">pi</span> <span class="o">=</span> <span class="mf">3.1415926535897</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">krpc</span><span class="o">::</span><span class="n">Client</span> <span class="n">conn</span> <span class="o">=</span> <span class="n">krpc</span><span class="o">::</span><span class="n">connect</span><span class="p">(</span><span class="s">&quot;Landing Site&quot;</span><span class="p">);</span>
  <span class="n">krpc</span><span class="o">::</span><span class="n">services</span><span class="o">::</span><span class="n">SpaceCenter</span> <span class="n">space_center</span><span class="p">(</span><span class="o">&amp;</span><span class="n">conn</span><span class="p">);</span>
  <span class="n">krpc</span><span class="o">::</span><span class="n">services</span><span class="o">::</span><span class="n">Drawing</span> <span class="n">drawing</span><span class="p">(</span><span class="o">&amp;</span><span class="n">conn</span><span class="p">);</span>
  <span class="k">auto</span> <span class="n">vessel</span> <span class="o">=</span> <span class="n">space_center</span><span class="p">.</span><span class="n">active_vessel</span><span class="p">();</span>
  <span class="k">auto</span> <span class="n">body</span> <span class="o">=</span> <span class="n">vessel</span><span class="p">.</span><span class="n">orbit</span><span class="p">().</span><span class="n">body</span><span class="p">();</span>

  <span class="c1">// Define the landing site as the top of the VAB</span>
  <span class="kt">double</span> <span class="n">landing_latitude</span> <span class="o">=</span> <span class="o">-</span><span class="p">(</span><span class="mf">0.0</span><span class="o">+</span><span class="p">(</span><span class="mf">5.0</span><span class="o">/</span><span class="mf">60.0</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="mf">48.38</span><span class="o">/</span><span class="mf">60.0</span><span class="o">/</span><span class="mf">60.0</span><span class="p">));</span>
  <span class="kt">double</span> <span class="n">landing_longitude</span> <span class="o">=</span> <span class="o">-</span><span class="p">(</span><span class="mf">74.0</span><span class="o">+</span><span class="p">(</span><span class="mf">37.0</span><span class="o">/</span><span class="mf">60.0</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="mf">12.2</span><span class="o">/</span><span class="mf">60.0</span><span class="o">/</span><span class="mf">60.0</span><span class="p">));</span>
  <span class="kt">double</span> <span class="n">landing_altitude</span> <span class="o">=</span> <span class="mi">111</span><span class="p">;</span>

  <span class="c1">// Determine landing site reference frame</span>
  <span class="c1">// (orientation: x=zenith, y=north, z=east)</span>
  <span class="k">auto</span> <span class="n">landing_position</span> <span class="o">=</span> <span class="n">body</span><span class="p">.</span><span class="n">surface_position</span><span class="p">(</span>
    <span class="n">landing_latitude</span><span class="p">,</span> <span class="n">landing_longitude</span><span class="p">,</span> <span class="n">body</span><span class="p">.</span><span class="n">reference_frame</span><span class="p">());</span>
  <span class="k">auto</span> <span class="n">q_long</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">make_tuple</span><span class="p">(</span>
    <span class="mf">0.0</span><span class="p">,</span>
    <span class="n">sin</span><span class="p">(</span><span class="o">-</span><span class="n">landing_longitude</span> <span class="o">*</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">pi</span> <span class="o">/</span> <span class="mf">180.0</span><span class="p">),</span>
    <span class="mf">0.0</span><span class="p">,</span>
    <span class="n">cos</span><span class="p">(</span><span class="o">-</span><span class="n">landing_longitude</span> <span class="o">*</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">pi</span> <span class="o">/</span> <span class="mf">180.0</span><span class="p">)</span>
    <span class="p">);</span>
  <span class="k">auto</span> <span class="n">q_lat</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">make_tuple</span><span class="p">(</span>
    <span class="mf">0.0</span><span class="p">,</span>
    <span class="mf">0.0</span><span class="p">,</span>
    <span class="n">sin</span><span class="p">(</span><span class="n">landing_latitude</span> <span class="o">*</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">pi</span> <span class="o">/</span> <span class="mf">180.0</span><span class="p">),</span>
    <span class="n">cos</span><span class="p">(</span><span class="n">landing_latitude</span> <span class="o">*</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">pi</span> <span class="o">/</span> <span class="mf">180.0</span><span class="p">)</span>
  <span class="p">);</span>
  <span class="k">auto</span> <span class="n">landing_reference_frame</span> <span class="o">=</span>
    <span class="n">krpc</span><span class="o">::</span><span class="n">services</span><span class="o">::</span><span class="n">SpaceCenter</span><span class="o">::</span><span class="n">ReferenceFrame</span><span class="o">::</span><span class="n">create_relative</span><span class="p">(</span>
      <span class="n">conn</span><span class="p">,</span>
      <span class="n">krpc</span><span class="o">::</span><span class="n">services</span><span class="o">::</span><span class="n">SpaceCenter</span><span class="o">::</span><span class="n">ReferenceFrame</span><span class="o">::</span><span class="n">create_relative</span><span class="p">(</span>
        <span class="n">conn</span><span class="p">,</span>
        <span class="n">krpc</span><span class="o">::</span><span class="n">services</span><span class="o">::</span><span class="n">SpaceCenter</span><span class="o">::</span><span class="n">ReferenceFrame</span><span class="o">::</span><span class="n">create_relative</span><span class="p">(</span>
          <span class="n">conn</span><span class="p">,</span>
          <span class="n">body</span><span class="p">.</span><span class="n">reference_frame</span><span class="p">(),</span>
          <span class="n">landing_position</span><span class="p">,</span>
          <span class="n">q_long</span><span class="p">),</span>
        <span class="n">std</span><span class="o">::</span><span class="n">make_tuple</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
        <span class="n">q_lat</span><span class="p">),</span>
      <span class="n">std</span><span class="o">::</span><span class="n">make_tuple</span><span class="p">(</span><span class="n">landing_altitude</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">));</span>

  <span class="c1">// Draw axes</span>
  <span class="n">drawing</span><span class="p">.</span><span class="n">add_line</span><span class="p">(</span>
    <span class="n">std</span><span class="o">::</span><span class="n">make_tuple</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">std</span><span class="o">::</span><span class="n">make_tuple</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">landing_reference_frame</span><span class="p">);</span>
  <span class="n">drawing</span><span class="p">.</span><span class="n">add_line</span><span class="p">(</span>
    <span class="n">std</span><span class="o">::</span><span class="n">make_tuple</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">std</span><span class="o">::</span><span class="n">make_tuple</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">landing_reference_frame</span><span class="p">);</span>
  <span class="n">drawing</span><span class="p">.</span><span class="n">add_line</span><span class="p">(</span>
    <span class="n">std</span><span class="o">::</span><span class="n">make_tuple</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">std</span><span class="o">::</span><span class="n">make_tuple</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">landing_reference_frame</span><span class="p">);</span>

  <span class="k">while</span> <span class="p">(</span><span class="nb">true</span><span class="p">)</span>
    <span class="n">std</span><span class="o">::</span><span class="n">this_thread</span><span class="o">::</span><span class="n">sleep_for</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">seconds</span><span class="p">(</span><span class="mi">1</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-52 docutils container">
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">krpc.client.Connection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">krpc.client.RPCException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">krpc.client.services.Drawing</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">krpc.client.services.SpaceCenter</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.javatuples.Triplet</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.javatuples.Quartet</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.lang.Math</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">LandingSite</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span>
        <span class="kd">throws</span> <span class="n">IOException</span><span class="o">,</span> <span class="n">RPCException</span><span class="o">,</span> <span class="n">InterruptedException</span> <span class="o">{</span>
        <span class="n">Connection</span> <span class="n">connection</span> <span class="o">=</span> <span class="n">Connection</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="s">&quot;Landing Site&quot;</span><span class="o">);</span>
        <span class="n">SpaceCenter</span> <span class="n">spaceCenter</span> <span class="o">=</span> <span class="n">SpaceCenter</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="n">connection</span><span class="o">);</span>
        <span class="n">Drawing</span> <span class="n">drawing</span> <span class="o">=</span> <span class="n">Drawing</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="n">connection</span><span class="o">);</span>
        <span class="n">SpaceCenter</span><span class="o">.</span><span class="na">Vessel</span> <span class="n">vessel</span> <span class="o">=</span> <span class="n">spaceCenter</span><span class="o">.</span><span class="na">getActiveVessel</span><span class="o">();</span>
        <span class="n">SpaceCenter</span><span class="o">.</span><span class="na">CelestialBody</span> <span class="n">body</span> <span class="o">=</span> <span class="n">vessel</span><span class="o">.</span><span class="na">getOrbit</span><span class="o">().</span><span class="na">getBody</span><span class="o">();</span>

        <span class="c1">// Define the landing site as the top of the VAB</span>
        <span class="kt">double</span> <span class="n">landingLatitude</span> <span class="o">=</span> <span class="o">-(</span><span class="mf">0.0</span><span class="o">+(</span><span class="mf">5.0</span><span class="o">/</span><span class="mf">60.0</span><span class="o">)+(</span><span class="mf">48.38</span><span class="o">/</span><span class="mf">60.0</span><span class="o">/</span><span class="mf">60.0</span><span class="o">));</span>
        <span class="kt">double</span> <span class="n">landingLongitude</span> <span class="o">=</span> <span class="o">-(</span><span class="mf">74.0</span><span class="o">+(</span><span class="mf">37.0</span><span class="o">/</span><span class="mf">60.0</span><span class="o">)+(</span><span class="mf">12.2</span><span class="o">/</span><span class="mf">60.0</span><span class="o">/</span><span class="mf">60.0</span><span class="o">));</span>
        <span class="kt">double</span> <span class="n">landingAltitude</span> <span class="o">=</span> <span class="mi">111</span><span class="o">;</span>

        <span class="c1">// Determine landing site reference frame</span>
        <span class="c1">// (orientation: x=zenith, y=north, z=east)</span>
        <span class="n">Triplet</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">,</span> <span class="n">Double</span><span class="o">,</span> <span class="n">Double</span><span class="o">&gt;</span> <span class="n">landingPosition</span> <span class="o">=</span> <span class="n">body</span><span class="o">.</span><span class="na">surfacePosition</span><span class="o">(</span>
          <span class="n">landingLatitude</span><span class="o">,</span> <span class="n">landingLongitude</span><span class="o">,</span> <span class="n">body</span><span class="o">.</span><span class="na">getReferenceFrame</span><span class="o">());</span>
        <span class="n">Quartet</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">,</span> <span class="n">Double</span><span class="o">,</span> <span class="n">Double</span><span class="o">,</span> <span class="n">Double</span><span class="o">&gt;</span> <span class="n">qLong</span> <span class="o">=</span>
          <span class="k">new</span> <span class="n">Quartet</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">,</span> <span class="n">Double</span><span class="o">,</span> <span class="n">Double</span><span class="o">,</span> <span class="n">Double</span><span class="o">&gt;(</span>
            <span class="mf">0.0</span><span class="o">,</span>
            <span class="n">Math</span><span class="o">.</span><span class="na">sin</span><span class="o">(-</span><span class="n">landingLongitude</span> <span class="o">*</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">Math</span><span class="o">.</span><span class="na">PI</span> <span class="o">/</span> <span class="mf">180.0</span><span class="o">),</span>
            <span class="mf">0.0</span><span class="o">,</span>
            <span class="n">Math</span><span class="o">.</span><span class="na">cos</span><span class="o">(-</span><span class="n">landingLongitude</span> <span class="o">*</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">Math</span><span class="o">.</span><span class="na">PI</span> <span class="o">/</span> <span class="mf">180.0</span><span class="o">));</span>
        <span class="n">Quartet</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">,</span> <span class="n">Double</span><span class="o">,</span> <span class="n">Double</span><span class="o">,</span> <span class="n">Double</span><span class="o">&gt;</span> <span class="n">qLat</span> <span class="o">=</span>
          <span class="k">new</span> <span class="n">Quartet</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">,</span> <span class="n">Double</span><span class="o">,</span> <span class="n">Double</span><span class="o">,</span> <span class="n">Double</span><span class="o">&gt;(</span>
            <span class="mf">0.0</span><span class="o">,</span>
            <span class="mf">0.0</span><span class="o">,</span>
            <span class="n">Math</span><span class="o">.</span><span class="na">sin</span><span class="o">(</span><span class="n">landingLatitude</span> <span class="o">*</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">Math</span><span class="o">.</span><span class="na">PI</span> <span class="o">/</span> <span class="mf">180.0</span><span class="o">),</span>
            <span class="n">Math</span><span class="o">.</span><span class="na">cos</span><span class="o">(</span><span class="n">landingLatitude</span> <span class="o">*</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">Math</span><span class="o">.</span><span class="na">PI</span> <span class="o">/</span> <span class="mf">180.0</span><span class="o">));</span>
        <span class="n">Quartet</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">,</span> <span class="n">Double</span><span class="o">,</span> <span class="n">Double</span><span class="o">,</span> <span class="n">Double</span><span class="o">&gt;</span> <span class="n">qIdentity</span> <span class="o">=</span>
          <span class="k">new</span> <span class="n">Quartet</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">,</span> <span class="n">Double</span><span class="o">,</span> <span class="n">Double</span><span class="o">,</span> <span class="n">Double</span><span class="o">&gt;(</span><span class="mf">0.0</span><span class="o">,</span> <span class="mf">0.0</span><span class="o">,</span> <span class="mf">0.0</span><span class="o">,</span> <span class="mf">1.0</span><span class="o">);</span>
        <span class="n">Triplet</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">,</span> <span class="n">Double</span><span class="o">,</span> <span class="n">Double</span><span class="o">&gt;</span> <span class="n">zero</span> <span class="o">=</span>
          <span class="k">new</span> <span class="n">Triplet</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">,</span> <span class="n">Double</span><span class="o">,</span> <span class="n">Double</span><span class="o">&gt;(</span><span class="mf">0.0</span><span class="o">,</span> <span class="mf">0.0</span><span class="o">,</span> <span class="mf">0.0</span><span class="o">);</span>
        <span class="n">SpaceCenter</span><span class="o">.</span><span class="na">ReferenceFrame</span> <span class="n">landingReferenceFrame</span> <span class="o">=</span>
          <span class="n">SpaceCenter</span><span class="o">.</span><span class="na">ReferenceFrame</span><span class="o">.</span><span class="na">createRelative</span><span class="o">(</span>
            <span class="n">connection</span><span class="o">,</span>
            <span class="n">SpaceCenter</span><span class="o">.</span><span class="na">ReferenceFrame</span><span class="o">.</span><span class="na">createRelative</span><span class="o">(</span>
              <span class="n">connection</span><span class="o">,</span>
              <span class="n">SpaceCenter</span><span class="o">.</span><span class="na">ReferenceFrame</span><span class="o">.</span><span class="na">createRelative</span><span class="o">(</span>
                <span class="n">connection</span><span class="o">,</span>
                <span class="n">body</span><span class="o">.</span><span class="na">getReferenceFrame</span><span class="o">(),</span>
                <span class="n">landingPosition</span><span class="o">,</span> <span class="n">qLong</span><span class="o">,</span> <span class="n">zero</span><span class="o">,</span> <span class="n">zero</span><span class="o">),</span>
              <span class="n">zero</span><span class="o">,</span> <span class="n">qLat</span><span class="o">,</span> <span class="n">zero</span><span class="o">,</span> <span class="n">zero</span><span class="o">),</span>
            <span class="k">new</span> <span class="n">Triplet</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">,</span> <span class="n">Double</span><span class="o">,</span> <span class="n">Double</span><span class="o">&gt;(</span><span class="n">landingAltitude</span><span class="o">,</span> <span class="mf">0.0</span><span class="o">,</span> <span class="mf">0.0</span><span class="o">),</span>
            <span class="n">qIdentity</span><span class="o">,</span> <span class="n">zero</span><span class="o">,</span> <span class="n">zero</span><span class="o">);</span>

        <span class="c1">// Draw axes</span>
        <span class="n">drawing</span><span class="o">.</span><span class="na">addLine</span><span class="o">(</span>
          <span class="n">zero</span><span class="o">,</span> <span class="k">new</span> <span class="n">Triplet</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">,</span> <span class="n">Double</span><span class="o">,</span> <span class="n">Double</span><span class="o">&gt;(</span><span class="mf">1.0</span><span class="o">,</span> <span class="mf">0.0</span><span class="o">,</span> <span class="mf">0.0</span><span class="o">),</span>
          <span class="n">landingReferenceFrame</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
        <span class="n">drawing</span><span class="o">.</span><span class="na">addLine</span><span class="o">(</span>
          <span class="n">zero</span><span class="o">,</span> <span class="k">new</span> <span class="n">Triplet</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">,</span> <span class="n">Double</span><span class="o">,</span> <span class="n">Double</span><span class="o">&gt;(</span><span class="mf">0.0</span><span class="o">,</span> <span class="mf">1.0</span><span class="o">,</span> <span class="mf">0.0</span><span class="o">),</span>
          <span class="n">landingReferenceFrame</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
        <span class="n">drawing</span><span class="o">.</span><span class="na">addLine</span><span class="o">(</span>
          <span class="n">zero</span><span class="o">,</span> <span class="k">new</span> <span class="n">Triplet</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">,</span> <span class="n">Double</span><span class="o">,</span> <span class="n">Double</span><span class="o">&gt;(</span><span class="mf">0.0</span><span class="o">,</span> <span class="mf">0.0</span><span class="o">,</span> <span class="mf">1.0</span><span class="o">),</span>
          <span class="n">landingReferenceFrame</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>

        <span class="k">while</span> <span class="o">(</span><span class="kc">true</span><span class="o">)</span>
          <span class="n">Thread</span><span class="o">.</span><span class="na">sleep</span><span class="o">(</span><span class="mi">1000</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-53 docutils container">
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="kd">local</span> <span class="n">krpc</span> <span class="o">=</span> <span class="nb">require</span> <span class="s1">&#39;krpc&#39;</span>
<span class="kd">local</span> <span class="n">platform</span> <span class="o">=</span> <span class="nb">require</span> <span class="s1">&#39;krpc.platform&#39;</span>
<span class="kd">local</span> <span class="n">List</span> <span class="o">=</span> <span class="nb">require</span> <span class="s1">&#39;pl.List&#39;</span>
<span class="kd">local</span> <span class="n">math</span> <span class="o">=</span> <span class="nb">require</span> <span class="s1">&#39;math&#39;</span>

<span class="kd">local</span> <span class="n">conn</span> <span class="o">=</span> <span class="n">krpc</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;Landing Site&#39;</span><span class="p">)</span>
<span class="kd">local</span> <span class="n">vessel</span> <span class="o">=</span> <span class="n">conn</span><span class="p">.</span><span class="n">space_center</span><span class="p">.</span><span class="n">active_vessel</span>
<span class="kd">local</span> <span class="n">body</span> <span class="o">=</span> <span class="n">vessel</span><span class="p">.</span><span class="n">orbit</span><span class="p">.</span><span class="n">body</span>
<span class="kd">local</span> <span class="n">ReferenceFrame</span> <span class="o">=</span> <span class="n">conn</span><span class="p">.</span><span class="n">space_center</span><span class="p">.</span><span class="n">ReferenceFrame</span>

<span class="c1">-- Define the landing site as the top of the VAB</span>
<span class="kd">local</span> <span class="n">landing_latitude</span> <span class="o">=</span> <span class="o">-</span><span class="p">(</span><span class="mi">0</span><span class="o">+</span><span class="p">(</span><span class="mf">5.0</span><span class="o">/</span><span class="mi">60</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="mf">48.38</span><span class="o">/</span><span class="mi">60</span><span class="o">/</span><span class="mi">60</span><span class="p">))</span>
<span class="kd">local</span> <span class="n">landing_longitude</span> <span class="o">=</span> <span class="o">-</span><span class="p">(</span><span class="mi">74</span><span class="o">+</span><span class="p">(</span><span class="mf">37.0</span><span class="o">/</span><span class="mi">60</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="mf">12.2</span><span class="o">/</span><span class="mi">60</span><span class="o">/</span><span class="mi">60</span><span class="p">))</span>
<span class="kd">local</span> <span class="n">landing_altitude</span> <span class="o">=</span> <span class="mi">111</span>

<span class="c1">-- Determine landing site reference frame</span>
<span class="c1">-- (orientation: x=zenith, y=north, z=east)</span>
<span class="kd">local</span> <span class="n">landing_position</span> <span class="o">=</span> <span class="n">body</span><span class="p">:</span><span class="n">surface_position</span><span class="p">(</span>
  <span class="n">landing_latitude</span><span class="p">,</span> <span class="n">landing_longitude</span><span class="p">,</span> <span class="n">body</span><span class="p">.</span><span class="n">reference_frame</span><span class="p">)</span>
<span class="kd">local</span> <span class="n">q_long</span> <span class="o">=</span> <span class="n">List</span><span class="p">{</span>
  <span class="mi">0</span><span class="p">,</span>
  <span class="nb">math.sin</span><span class="p">(</span><span class="o">-</span><span class="n">landing_longitude</span> <span class="o">*</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="nb">math.pi</span> <span class="o">/</span> <span class="mi">180</span><span class="p">),</span>
  <span class="mi">0</span><span class="p">,</span>
  <span class="nb">math.cos</span><span class="p">(</span><span class="o">-</span><span class="n">landing_longitude</span> <span class="o">*</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="nb">math.pi</span> <span class="o">/</span> <span class="mi">180</span><span class="p">)</span>
<span class="p">}</span>
<span class="kd">local</span> <span class="n">q_lat</span> <span class="o">=</span> <span class="n">List</span><span class="p">{</span>
  <span class="mi">0</span><span class="p">,</span>
  <span class="mi">0</span><span class="p">,</span>
  <span class="nb">math.sin</span><span class="p">(</span><span class="n">landing_latitude</span> <span class="o">*</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="nb">math.pi</span> <span class="o">/</span> <span class="mi">180</span><span class="p">),</span>
  <span class="nb">math.cos</span><span class="p">(</span><span class="n">landing_latitude</span> <span class="o">*</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="nb">math.pi</span> <span class="o">/</span> <span class="mi">180</span><span class="p">)</span>
<span class="p">}</span>
<span class="kd">local</span> <span class="n">landing_reference_frame</span> <span class="o">=</span>
  <span class="n">ReferenceFrame</span><span class="p">.</span><span class="n">create_relative</span><span class="p">(</span>
    <span class="n">ReferenceFrame</span><span class="p">.</span><span class="n">create_relative</span><span class="p">(</span>
      <span class="n">ReferenceFrame</span><span class="p">.</span><span class="n">create_relative</span><span class="p">(</span>
        <span class="n">body</span><span class="p">.</span><span class="n">reference_frame</span><span class="p">,</span>
        <span class="n">landing_position</span><span class="p">,</span>
        <span class="n">q_long</span><span class="p">),</span>
      <span class="n">List</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
      <span class="n">q_lat</span><span class="p">),</span>
    <span class="n">List</span><span class="p">{</span><span class="n">landing_altitude</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">})</span>

<span class="c1">-- Draw axes</span>
<span class="n">conn</span><span class="p">.</span><span class="n">drawing</span><span class="p">.</span><span class="n">add_line</span><span class="p">(</span><span class="n">List</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span> <span class="n">List</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span> <span class="n">landing_reference_frame</span><span class="p">)</span>
<span class="n">conn</span><span class="p">.</span><span class="n">drawing</span><span class="p">.</span><span class="n">add_line</span><span class="p">(</span><span class="n">List</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span> <span class="n">List</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span> <span class="n">landing_reference_frame</span><span class="p">)</span>
<span class="n">conn</span><span class="p">.</span><span class="n">drawing</span><span class="p">.</span><span class="n">add_line</span><span class="p">(</span><span class="n">List</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span> <span class="n">List</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">},</span> <span class="n">landing_reference_frame</span><span class="p">)</span>

<span class="kr">while</span> <span class="kc">true</span> <span class="kr">do</span>
   <span class="n">platform</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="kr">end</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-54 docutils container">
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">time</span>
<span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">sin</span><span class="p">,</span> <span class="n">cos</span><span class="p">,</span> <span class="n">pi</span>
<span class="kn">import</span> <span class="nn">krpc</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">krpc</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Landing Site&#39;</span><span class="p">)</span>
<span class="n">vessel</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">space_center</span><span class="o">.</span><span class="n">active_vessel</span>
<span class="n">body</span> <span class="o">=</span> <span class="n">vessel</span><span class="o">.</span><span class="n">orbit</span><span class="o">.</span><span class="n">body</span>
<span class="n">create_relative</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">space_center</span><span class="o">.</span><span class="n">ReferenceFrame</span><span class="o">.</span><span class="n">create_relative</span>

<span class="c1"># Define the landing site as the top of the VAB</span>
<span class="n">landing_latitude</span> <span class="o">=</span> <span class="o">-</span><span class="p">(</span><span class="mi">0</span><span class="o">+</span><span class="p">(</span><span class="mf">5.0</span><span class="o">/</span><span class="mi">60</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="mf">48.38</span><span class="o">/</span><span class="mi">60</span><span class="o">/</span><span class="mi">60</span><span class="p">))</span>
<span class="n">landing_longitude</span> <span class="o">=</span> <span class="o">-</span><span class="p">(</span><span class="mi">74</span><span class="o">+</span><span class="p">(</span><span class="mf">37.0</span><span class="o">/</span><span class="mi">60</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="mf">12.2</span><span class="o">/</span><span class="mi">60</span><span class="o">/</span><span class="mi">60</span><span class="p">))</span>
<span class="n">landing_altitude</span> <span class="o">=</span> <span class="mi">111</span>

<span class="c1"># Determine landing site reference frame</span>
<span class="c1"># (orientation: x=zenith, y=north, z=east)</span>
<span class="n">landing_position</span> <span class="o">=</span> <span class="n">body</span><span class="o">.</span><span class="n">surface_position</span><span class="p">(</span>
    <span class="n">landing_latitude</span><span class="p">,</span> <span class="n">landing_longitude</span><span class="p">,</span> <span class="n">body</span><span class="o">.</span><span class="n">reference_frame</span><span class="p">)</span>
<span class="n">q_long</span> <span class="o">=</span> <span class="p">(</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="n">sin</span><span class="p">(</span><span class="o">-</span><span class="n">landing_longitude</span> <span class="o">*</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">pi</span> <span class="o">/</span> <span class="mi">180</span><span class="p">),</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="n">cos</span><span class="p">(</span><span class="o">-</span><span class="n">landing_longitude</span> <span class="o">*</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">pi</span> <span class="o">/</span> <span class="mi">180</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">q_lat</span> <span class="o">=</span> <span class="p">(</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="n">sin</span><span class="p">(</span><span class="n">landing_latitude</span> <span class="o">*</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">pi</span> <span class="o">/</span> <span class="mi">180</span><span class="p">),</span>
    <span class="n">cos</span><span class="p">(</span><span class="n">landing_latitude</span> <span class="o">*</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">pi</span> <span class="o">/</span> <span class="mi">180</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">landing_reference_frame</span> <span class="o">=</span> \
    <span class="n">create_relative</span><span class="p">(</span>
        <span class="n">create_relative</span><span class="p">(</span>
            <span class="n">create_relative</span><span class="p">(</span>
                <span class="n">body</span><span class="o">.</span><span class="n">reference_frame</span><span class="p">,</span>
                <span class="n">landing_position</span><span class="p">,</span>
                <span class="n">q_long</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
            <span class="n">q_lat</span><span class="p">),</span>
        <span class="p">(</span><span class="n">landing_altitude</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>

<span class="c1"># Draw axes</span>
<span class="n">conn</span><span class="o">.</span><span class="n">drawing</span><span class="o">.</span><span class="n">add_line</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">landing_reference_frame</span><span class="p">)</span>
<span class="n">conn</span><span class="o">.</span><span class="n">drawing</span><span class="o">.</span><span class="n">add_line</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">landing_reference_frame</span><span class="p">)</span>
<span class="n">conn</span><span class="o">.</span><span class="n">drawing</span><span class="o">.</span><span class="n">add_line</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">landing_reference_frame</span><span class="p">)</span>

<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="launch-into-orbit.html" class="btn btn-neutral float-right" title="Launch into Orbit" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="suborbital-flight.html" class="btn btn-neutral" title="Sub-Orbital Flight" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015-2017, djungelorm.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.4.0',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/sphinx_tabs/tabs.js"></script>
      <script type="text/javascript" src="../_static/sphinx_tabs/semantic-ui-2.2.10/tab.min.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
 
<script>
  // Open external links in a new window
  jQuery(document).ready(function($) {
    $('a').not('[href*="mailto:"]').each(function () {
      var isInternalLink = new RegExp('/' + window.location.host + '/');
      if (!isInternalLink.test(this.href)) {
        $(this).attr('target', '_blank');
      }
    });
  });
</script>


</body>
</html>